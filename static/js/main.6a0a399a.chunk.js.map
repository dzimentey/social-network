{"version":3,"sources":["components/coomon/Paginator/Paginator.module.css","components/Users/Users.module.css","components/Profile/MyPosts/Post/Post.module.css","reportWebVitals.ts","components/Nav/Nav.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/dialogsReducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/MessageItem.tsx","components/coomon/FormsControls.tsx","Utilits/validators/validators.ts","components/Dialogs/Dialogs.tsx","hoc/withAuthRedirect.tsx","components/Dialogs/DialogsContainer.tsx","api/api.ts","Redux/users-reducer.ts","components/coomon/Paginator/Paginator.tsx","assets/images/homer-warrior.jpg","components/Users/User.tsx","components/Users/Users.tsx","assets/images/preloader.gif","components/coomon/preloader/Preloader.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","Redux/profileReducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","logo.png","Redux/auth-reducer.ts","components/Header/headerContainer.tsx","components/login/Login.tsx","Redux/app-reducer.ts","App.tsx","Redux/sidebarReducer.ts","Redux/redux-store.ts","index.tsx","components/Dialogs/dialogs.module.css","components/coomon/FormsControls.module.css","components/Nav/Nav.module.css","components/Header/Header.module.css"],"names":["module","exports","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Nav","className","c","nav","to","activeClassName","active","Music","Settings","initState","dialogsData","id","name","messagesData","message","DialogItem","props","dialog","MessageItem","content","Textarea","gotError","meta","touched","error","s","formControl","input","Input","requiredField","value","maxLengthCreator","maxLength","length","Dialogs","state","dialogsPage","dialogsElements","map","d","messagesElements","m","isAuth","dialogs","dialogsItems","messages","AddMessageFormRedux","onSubmit","sendMessage","newMessageBody","maxLength50","reduxForm","form","handleSubmit","Field","component","placeholder","validate","type","mapStateToPropsForRedirect","auth","withAuthRedirect","Component","RedirectComponent","this","React","connect","DialogsContainer","compose","dispatch","sendMessageAC","baseUrl","instance","axios","create","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","response","data","userId","profileAPI","getProfile","authAPI","email","password","rememberMe","post","delete","getStatus","updateStatus","status","put","initialState","users","totalUsersCount","isFetching","followingProgress","followSuccess","unfollowSuccess","setUsers","setTotalUsersCount","toggleIsFetching","toggleFollowingProcess","Paginator","pagesCount","Math","ceil","pages","i","push","p","onClick","e","onPageChanged","selectedPage","User","user","src","photos","small","userPhoto","followed","disabled","some","unfollow","follow","Users","u","Preloader","style","position","margin","preloader","width","height","getUsersPage","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainerClass","pageNumber","getUsers","setCurrentPage","UsersContainer","a","resultCode","items","totalCount","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","onChange","currentTarget","onBlur","autoFocus","onDoubleClick","ProfileInfo","profile","large","postsData","likesAmount","Post","alt","MyPosts","memo","postsElements","ReduxPostForm","values","addPost","newPostText","maxLength10","MyPostsContainer","profilePage","text","postText","addPostAC","Profile","ProfileContainerComponent","match","params","authorisedUseId","history","getUserProfile","ProfileContainer","withRouter","Header","header","AppLogo","loginBlock","login","logout","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","HeaderContainerComponent","HeaderContainer","LoginReduxForm","commonError","errorMessage","action","stopSubmit","_error","formData","console","log","initialized","App","initializeAppTC","path","render","app","promise","Promise","all","rootReducer","combineReducers","newPost","newPostDataMessage","filter","postId","messageText","sidebar","formReducer","store","createStore","applyMiddleware","thunkMiddleWare","ReactDOM","StrictMode","document","getElementById"],"mappings":"2FACAA,EAAOC,QAAU,CAAC,aAAe,kC,oBCAjCD,EAAOC,QAAU,CAAC,UAAY,yBAAyB,aAAe,8B,oBCAtED,EAAOC,QAAU,CAAC,KAAO,qB,wGCaVC,EAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBC,MAAK,YAAkD,IAA/CC,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAON,GACPO,EAAQP,O,0FCJDQ,EAAM,WACf,OACI,sBAAKC,UAAWC,IAAEC,IAAlB,UACI,8BACI,cAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,IAAEI,OAA1C,uBAEJ,8BACI,cAAC,IAAD,CAASF,GAAG,WAAWC,gBAAiBH,IAAEI,OAA1C,wBAEJ,8BACI,cAAC,IAAD,CAASF,GAAG,SAASC,gBAAiBH,IAAEI,OAAxC,qBAEJ,8BACI,cAAC,IAAD,CAASF,GAAG,SAASC,gBAAiBH,IAAEI,OAAxC,qBAEJ,8BACI,cAAC,IAAD,CAASF,GAAG,YAAYC,gBAAiBH,IAAEI,OAA3C,4B,OCnBHC,EAAO,WAChB,OACI,yCCFKC,EAAU,WACnB,OACI,4C,eCoBFC,EAA6B,CAC/BC,YAAa,CACT,CAACC,GAAI,IAAKC,KAAM,SAChB,CAACD,GAAI,IAAKC,KAAM,WAChB,CAACD,GAAI,IAAKC,KAAM,SAChB,CAACD,GAAI,IAAKC,KAAM,SAChB,CAACD,GAAI,IAAKC,KAAM,QAChB,CAACD,GAAI,IAAKC,KAAM,QAEpBC,aAAc,CACV,CAACF,GAAI,IAAKG,QAAS,cACnB,CAACH,GAAI,IAAKG,QAAS,kBACnB,CAACH,GAAI,IAAKG,QAAS,qBACnB,CAACH,GAAI,IAAKG,QAAS,sBACnB,CAACH,GAAI,IAAKG,QAAS,cACnB,CAACH,GAAI,IAAKG,QAAS,gB,iBC9BdC,EAAa,SAACC,GACvB,OACI,qBAAKf,UAAWC,IAAEe,OAAlB,SACI,cAAC,IAAD,CAASb,GAAI,YAAcY,EAAML,GAAjC,SAAsCK,EAAMJ,UCN3CM,EAAc,SAACF,GACxB,OACI,qBAAKf,UAAWC,IAAEY,QAAlB,SAA4BE,EAAMG,W,mCCN7BC,EAAW,SAAEJ,GAEtB,IAAMK,EAAWL,EAAMM,KAAKC,SAAWP,EAAMM,KAAKE,MAElD,OACI,sBAAKvB,UAAWwB,IAAEC,YAAa,KAAML,EAAWI,IAAED,MAAQ,IAA1D,UACI,8BACI,oDAAcR,EAAMW,OAAWX,MAElCK,EAAW,+BAAOL,EAAMM,KAAKE,QAAgB,2BAO7CI,EAAQ,SAAEZ,GAEnB,IAAMK,EAAWL,EAAMM,KAAKC,SAAWP,EAAMM,KAAKE,MAElD,OACI,sBAAKvB,UAAWwB,IAAEC,YAAa,KAAML,EAAWI,IAAED,MAAQ,IAA1D,UACI,8BACI,iDAAWR,EAAMW,OAAWX,MAE/BK,EAAW,+BAAOL,EAAMM,KAAKE,QAAgB,2BC1B7CK,EAAgB,SAACC,GAC1B,IAAGA,EAEH,MAAO,qBAIEC,EAAmB,SAACC,GAAD,OAAuB,SAACF,GACpD,GAAGA,GAASA,EAAMG,OAASD,EAAW,MAAM,uCAAN,OAA8CA,EAA9C,kBCY7BE,EAAU,SAAClB,GAEpB,IAAImB,EAAQnB,EAAMoB,YAEZC,EAAkBF,EAAMzB,YAAY4B,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CAAY3B,KAAM2B,EAAE3B,KAAMD,GAAI4B,EAAE5B,QAE7E6B,EAAmBL,EAAMtB,aAAayB,KAAI,SAAAG,GAAC,OAAI,cAAC,EAAD,CAAatB,QAASsB,EAAE3B,aAoB7E,OAAqB,IAAjBE,EAAM0B,OAAyB,cAAC,IAAD,CAAUtC,GAAI,WAG7C,sBAAKH,UAAWC,IAAEyC,QAAlB,UACI,qBAAK1C,UAAWC,IAAE0C,aAAlB,SAEKP,IAGL,sBAAKpC,UAAWC,IAAE2C,SAAlB,UAEI,8BAAML,IAYN,cAACM,EAAD,CAAqBC,SA5BX,SAACjB,GAEnBd,EAAMgC,YAAYlB,EAAMmB,0BAiC1BC,EAAcnB,EAAiB,IAwB/Be,EAAsBK,YAAoC,CAC5DC,KAAM,wBADkBD,EAhB6C,SAACnC,GACtE,OACI,uBAAM+B,SAAU/B,EAAMqC,aAAtB,UACI,8BACI,cAACC,EAAA,EAAD,CAAOC,UAAWnC,EAAUR,KAAQ,iBAAkB4C,YAAa,sBACnEC,SAAY,CAAC5B,EAAeqB,OAGhC,8BACI,wBAAQQ,KAAM,SAAd,yB,QCzFZC,EAA6B,SAACxB,GAAD,MAAyB,CACtDO,OAAQP,EAAMyB,KAAKlB,SAGVmB,EAAmB,SAACC,GAAoB,IAC3CC,EAD0C,4JAE5C,WACI,OAA0B,IAAtBC,KAAKhD,MAAM0B,OAAyB,cAAC,IAAD,CAAUtC,GAAI,WAC/C,cAAC0D,EAAD,eAAeE,KAAKhD,YAJa,GAChBiD,IAAMH,WAStC,OAFoCI,YAAQP,EAARO,CAAoCH,I,OCa/DI,GAFiBN,EAAiB3B,GAEfkC,YAC5BF,aApBkB,SAAC/B,GACnB,MAAO,CACHC,YAAaD,EAAMC,gBAGF,SAACiC,GACtB,MAAO,CAIHrB,YAAa,SAACC,GACVoB,EPXiB,SAACpB,GAC1B,MAAO,CACHS,KAAM,eACNT,eAAgBA,GOQHqB,CAAcrB,SAU/BY,EAF4BO,CAG9BlC,I,kCC/BIqC,EAAe,gDAEfC,E,OAAWC,EAAMC,OAAO,CACtBC,iBAAiB,EACjBC,QAASL,EACTM,QAAS,CACL,UAAW,0CAmCVC,EAAW,WAEsC,IAAjDC,EAAgD,uDAA1B,EAAGC,EAAuB,uDAAJ,GAEjD,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAClDtF,MAAK,SAAAwF,GACF,OAAOA,EAASC,SANnBL,EAAW,SAURM,GACR,OAAOC,GAAWC,WAAWF,IAoBxBG,EAAU,WAEf,OAAOf,EAASS,IAAI,YAFfM,EAAU,SAIbC,EAAeC,GAAiD,IAA9BC,EAA6B,wDACjE,OAAOlB,EAASmB,KAAT,aAA4B,CAACH,QAAQC,WAAUC,gBALjDH,EAAU,WAQf,OAAOf,EAASoB,OAAT,eAKFP,GAAa,CAEtBC,WAFsB,SAEXF,GACP,OAAOZ,EAASS,IAAT,kBAAwBG,IAC1B1F,MAAK,SAAAwF,GACF,OAAOA,EAASC,SAG5BU,UARsB,SAQZT,GACN,OAAOZ,EAASS,IAAT,yBAA+BG,KAE1CU,aAXsB,SAWTC,GACT,OAAOvB,EAASwB,IAAT,iBAA+B,CAACD,OAAQA,MC1DjDE,GAA+B,CAEjCC,MAAO,GA0BPlB,SAAU,IACVmB,gBAAiB,EACjBpB,YAAa,EACbqB,YAAY,EACZC,kBAAmB,IA0DVC,GAAgB,SAAClB,GAAD,MAAuC,CAAC1B,KAAM,SAAU0B,WACxEmB,GAAkB,SAACnB,GAAD,MAAyC,CAAC1B,KAAM,WAAY0B,WAC9EoB,GAAW,SAACN,GAAD,MAAwB,CAACxC,KAAM,YAAawC,UAEvDO,GAAqB,SAACN,GAAD,MAA8B,CAC5DzC,KAAM,wBACNyC,oBAESO,GAAmB,SAACN,GAAD,MAA0B,CAAC1C,KAAM,qBAAsB0C,eAC1EO,GAAyB,SAACP,EAAqBhB,GAAtB,MAA0C,CAC5E1B,KAAM,8BACN0C,aACAhB,W,qBCrISwB,GAAY,SAAC5F,GAKtB,IAHA,IAAI6F,EAAaC,KAAKC,KAAK/F,EAAMmF,gBAAkBnF,EAAMgE,UAErDgC,EAAQ,GACHC,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,EAAME,KAAKD,GAGf,OAAO,8BACFD,EAAM1E,KAAI,SAAA6E,GAAC,OAAI,sBAAMC,QAAS,SAACC,GAC5BrG,EAAMsG,cAAcH,IACrBlH,UAAWe,EAAM+D,cAAgBoC,EAAI1F,KAAE8F,aAAe,GAFzC,SAE8CJ,U,+BCtBvD,OAA0B,0CCa5BK,GAAO,SAAC,GAAqC,IAApCC,EAAmC,EAAnCA,KAASzG,EAA0B,yBAErD,OAAO,gCACK,iCACI,8BACI,cAAC,IAAD,CAASZ,GAAI,WAAaqH,EAAK9G,GAA/B,SACI,qBAAK+G,IAAKD,EAAKE,OAAOC,MAAQH,EAAKE,OAAOC,MAAQC,GAAW5H,UAAWwB,KAAEoG,gBAGlF,8BACKJ,EAAKK,SACA,wBACEC,SAAU/G,EAAMqF,kBAAkB2B,MAAK,SAACrH,GAAD,OAAaA,IAAO8G,EAAK9G,MAChEyG,QAAS,WACLpG,EAAMiH,SAASR,EAAK9G,KAH1B,sBAQA,wBACEoH,SAAU/G,EAAMqF,kBAAkB2B,MAAK,SAACrH,GAAD,OAAaA,IAAO8G,EAAK9G,MAChEyG,QAAS,WACLpG,EAAMkH,OAAOT,EAAK9G,KAHxB,yBAUtB,iCACY,iCACI,8BAAM8G,EAAK7G,OACX,8BAAM6G,EAAK1B,YAEf,iCACI,8BAAM,0BACN,8BAAM,iCChCjBoC,GAAQ,SAACnH,GAElB,OAAO,gCAEH,cAAC,GAAD,CAAWmF,gBAAiBnF,EAAMmF,gBAAiBnB,SAAUhE,EAAMgE,SAAUD,YAAa/D,EAAM+D,YACrFuC,cAAetG,EAAMsG,gBAE/BtG,EAAMkF,MAAM5D,KAAI,SAAC8F,GAAD,OAAiB,cAAC,GAAD,CAAMF,OAAQlH,EAAMkH,OACXD,SAAUjH,EAAMiH,SAChB5B,kBAAmBrF,EAAMqF,kBACzBoB,KAAMW,GAAQA,EAAEzH,WC3BpD,OAA0B,sCCM5B0H,GAAY,SAACrH,GACtB,OAAQ,qBAAKsH,MAAO,CAACC,SAAU,WAAYC,OAAQ,YAA3C,SACJ,qBAAKd,IAAKe,GAAWH,MAAO,CAACI,MAAO,OAAQC,OAAQ,a,UCD/CC,GAAeC,cAJF,SAAC1G,GACvB,OAAOA,EAAM2G,UAAU5C,SAGkC,SAAAA,GAAK,OAAIA,KAEzD6C,GAAc,SAAC5G,GACxB,OAAOA,EAAM2G,UAAU9D,UAGdgE,GAAqB,SAAC7G,GAC/B,OAAOA,EAAM2G,UAAU3C,iBAGd8C,GAAiB,SAAC9G,GAC3B,OAAOA,EAAM2G,UAAU/D,aAGdmE,GAAgB,SAAC/G,GAC1B,OAAOA,EAAM2G,UAAU1C,YAGd+C,GAAuB,SAAChH,GACjC,OAAOA,EAAM2G,UAAUzC,mBCwBrB+C,G,4MAQF9B,cAAgB,SAAC+B,GAEb,EAAKrI,MAAMsI,SAASD,EAAY,EAAKrI,MAAMgE,UAE3C,EAAKhE,MAAMuI,eAAeF,GAC1B,EAAKrI,MAAM0F,kBAAiB,I,uDAXhC,WAEI1C,KAAKhD,MAAMsI,SAAStF,KAAKhD,MAAM+D,YAAaf,KAAKhD,MAAMgE,Y,oBAa3D,WAEI,OAAO,qCACFhB,KAAKhD,MAAMoF,WACR,cAAC,GAAD,IACE,KACN,cAAC,GAAD,CAAOD,gBAAiBnC,KAAKhD,MAAMmF,gBAAiBnB,SAAUhB,KAAKhD,MAAMgE,SAClED,YAAaf,KAAKhD,MAAM+D,YAAamB,MAAOlC,KAAKhD,MAAMkF,MACvDoB,cAAetD,KAAKsD,cAAeY,OAAQlE,KAAKhD,MAAMkH,OACtDD,SAAUjE,KAAKhD,MAAMiH,SAErB5B,kBAAmBrC,KAAKhD,MAAMqF,2B,GA5BfpC,IAAMH,WA8D3B0F,IAjBM3F,EAAiBuF,IAiBNhF,YAC1BF,aA7BkB,SAAC/B,GACnB,MAAO,CACH+D,MAAO0C,GAAazG,GACpB6C,SAAU+D,GAAY5G,GACtBgE,gBAAiB6C,GAAmB7G,GACpC4C,YAAakE,GAAe9G,GAC5BiE,WAAY8C,GAAc/G,GAC1BkE,kBAAmB8C,GAAqBhH,MAsBnB,CACjB+F,ORqDU,SAAC9C,GAEnB,8CAAO,WAAOf,GAAP,SAAAoF,EAAA,6DACHpF,EAASsC,IAAuB,EAAMvB,IADnC,SDtIgBzE,EC8IWyE,ED7I3BZ,EAASmB,KAAKpB,EAAO,iBAAa5D,GAAM,IAC1CjB,MAAK,SAAAwF,GACF,OAAOA,EAASC,QCmIjB,OAUqB,IAVrB,OAUMuE,YACLrF,EAASiC,GAAclB,IAE3Bf,EAASsC,IAAuB,EAAOvB,IAbpC,iCDtIe,IAACzE,ICsIhB,OAAP,uDQtDQsH,SRuEY,SAAC7C,GAErB,8CAAO,WAAOf,GAAP,SAAAoF,EAAA,6DACHpF,EAASsC,IAAuB,EAAMvB,IADnC,SDhKkBzE,ECwKWyE,EDvK7BZ,EAASoB,OAAOrB,EAAO,iBAAa5D,IACtCjB,MAAK,SAAAwF,GACF,OAAOA,EAASC,QC6JjB,OAU6B,IAV7B,OAUcuE,YACLrF,EAASkC,GAAgBnB,IAE7Bf,EAASsC,IAAuB,EAAOvB,IAb5C,iCDhKiB,IAACzE,ICgKlB,OAAP,uDQxEQ6F,YACA+C,eRiBkB,SAACxE,GAAD,MAA0B,CAACrB,KAAM,mBAAoBqB,gBQhBvE0B,sBACAC,oBACAC,0BACA2C,SR0BY,SAACvE,EAAqBC,GAE1C,8CAAO,WAAOX,GAAP,eAAAoF,EAAA,6DACHpF,EAASqC,IAAiB,IADvB,SAUgB5B,EAAkBC,EAAaC,GAV/C,OAUGG,EAVH,OAYHd,EAASqC,IAAiB,IAC1BrC,EAASmC,GAASrB,EAAKwE,QACvBtF,EAASoC,GAAmBtB,EAAKyE,aAd9B,2CAAP,yDQrC0BxF,CAY7BgF,K,SCrHYS,GAAyB,SAAC7I,GAA8B,IAAD,EAEhC8I,oBAAS,GAFuB,oBAEzDC,EAFyD,KAE/CC,EAF+C,OAGpCF,mBAAS9I,EAAM+E,QAHqB,oBAGzDA,EAHyD,KAGjDkE,EAHiD,KAKhEC,qBAAU,WACND,EAAUjJ,EAAM+E,UACjB,CAACgE,IAiBJ,OACI,gCACKA,EAEG,8BAAK,uBAAOI,SATD,SAAC9C,GACpB4C,EAAU5C,EAAE+C,cAActI,QAQoBuI,OAd9B,WAChBL,GAAY,GACZhJ,EAAM8E,aAAaC,IAYgDjE,MAAOiE,EACtDuE,WAAS,MAErB,8BAAK,sBAAMC,cAtBJ,WACfP,GAAY,IAqBC,SAAkChJ,EAAM+E,QAAU,oBAE3D,2BC7BCyE,GAAc,SAACxJ,GACxB,OAAKA,EAAMyJ,QAKP,8BAMI,gCACI,qBAAK/C,IAAK1G,EAAMyJ,QAAQ9C,OAAO+C,MAAQ1J,EAAMyJ,QAAQ9C,OAAO+C,MAAQ7C,KAEpE,cAAC,GAAD,CAAwB9B,OAAQ/E,EAAM+E,OAAQD,aAAc9E,EAAM8E,oBAbnE,cAAC,GAAD,KCSTG,GAAgC,CAElC0E,UAAW,CACP,CAAChK,GAAI,IAAKG,QAAS,gBAAkB8J,YAAa,KAClD,CAACjK,GAAI,IAAKG,QAAS,wCAA0C8J,YAAa,MAC1E,CAACjK,GAAI,IAAKG,QAAS,oBAAqB8J,YAAa,KACrD,CAACjK,GAAI,IAAKG,QAAS,qBAAsB8J,YAAa,KACtD,CAACjK,GAAI,IAAKG,QAAS,aAAc8J,YAAa,KAC9C,CAACjK,GAAI,IAAKG,QAAS,aAAc8J,YAAa,MAElDH,QAAS,KACT1E,OAAQ,IA+CCkE,GAAY,SAAClE,GAAD,MAAqB,CAACrC,KAAM,aAAeqC,W,qBC1EvD8E,GAAO,SAAC7J,GACjB,OACI,sBAAKf,UAAWC,KAAEyF,KAAlB,UACI,qBAAKmF,IAAK,SACLpD,IAAK,6HACT1G,EAAMF,QACP,yCACA,0CALJ,IAKyBE,EAAM4J,gBCM1BG,GAAU9G,IAAM+G,MAAM,SAAChK,GAGhC,IAAMiK,EAAgBjK,EAAM2J,UAAUrI,KAAI,SAAA6E,GAAC,OAAI,cAAC,GAAD,CAAMrG,QAASqG,EAAErG,QAAS8J,YAAazD,EAAEyD,iBAqBxF,OACI,2CAUI,cAACM,GAAD,CAAenI,SAfL,SAACoI,GACfnK,EAAMoK,QAAQD,EAAOE,gBAgBhBJ,QAOPK,GAAcvJ,EAAiB,IAiB/BmJ,GAAgB/H,YAA6B,CAC/CC,KAAM,yBADYD,EAXwC,SAACnC,GAC3D,OACI,uBAAM+B,SAAU/B,EAAMqC,aAAtB,UACI,cAACC,EAAA,EAAD,CAAOC,UAAWnC,EAAUR,KAAM,cAAe4C,YAAa,sBACvDC,SAAU,CAAC5B,EAAeyJ,MAEjC,wBAAQ5H,KAAM,SAAd,4BChDC6H,GAAmBrH,aAnBR,SAAC/B,GACrB,MAAO,CACHwI,UAAWxI,EAAMqJ,YAAYb,cAKV,SAACtG,GACxB,MAAO,CAIH+G,QAAS,SAACK,GAENpH,EHda,SAACoH,GACtB,MAAO,CACH/H,KAAM,WACNgI,SAAUD,GGWGE,CAAUF,QAKCvH,CAA6C6G,ICRhEa,GAAU,SAAC5K,GACpB,OACI,gCACI,cAAC,GAAD,CAAayJ,QAASzJ,EAAMyJ,QAAS1E,OAAQ/E,EAAM+E,OAAQD,aAAc9E,EAAM8E,eAC/E,cAACyF,GAAD,QCSNM,G,uKAEF,WACI,IAAIzG,EAASpB,KAAKhD,MAAM8K,MAAMC,OAAO3G,OAChCA,IACDA,EAASpB,KAAKhD,MAAMgL,kBACPhI,KAAKhD,MAAMiL,QAAQ/E,KAAK,UAGzClD,KAAKhD,MAAMkL,eAAe9G,GAC1BpB,KAAKhD,MAAM6E,UAAUT,K,oBAGzB,WAII,OACI,cAAC,GAAD,2BAAapB,KAAKhD,OAAlB,IAAyByJ,QAASzG,KAAKhD,MAAMyJ,QAAS1E,OAAQ/B,KAAKhD,MAAM+E,OAAQD,aAAc9B,KAAKhD,MAAM8E,oB,GAlB9E7B,IAAMH,WAoCjCqI,GAAmB/H,YAC5BF,aAdoB,SAAC/B,GAAD,MAA0B,CAC9CsI,QAAStI,EAAMqJ,YAAYf,QAC3B1E,OAAQ5D,EAAMqJ,YAAYzF,OAC1BiG,gBAAiB7J,EAAMyB,KAAKjD,GAC5B+B,OAAQP,EAAMyB,KAAKlB,UAUM,CAACwJ,eLIA,SAAC9G,GAAD,8CAAoB,WAAOf,GAAP,eAAAoF,EAAA,sEAC5B3E,EAAqBM,GADO,OACzCD,EADyC,OAG1Cd,EALyC,CAACX,KAAM,mBAAoB+G,QAK5CtF,IAHkB,2CAApB,uDKJgBU,ULarB,SAACT,GAAD,8CAAoB,WAAOf,GAAP,eAAAoF,EAAA,sEAClBpE,GAAWQ,UAAUT,GADH,OACnCF,EADmC,OAGrCb,EAAS4F,GAAU/E,EAASC,OAHS,2CAApB,uDKbgCW,aLoB7B,SAACC,GAAD,8CAAoB,WAAO1B,GAAP,SAAAoF,EAAA,sEACrBpE,GAAWS,aAAaC,GADH,OAGP,IAHO,OAG3BZ,KAAKuE,YACdrF,EAAS4F,GAAUlE,IAJiB,2CAApB,yDKnBxBqG,IAF4BhI,CAI9ByH,I,oBClEWQ,GAAS,SAACrL,GAEnB,OACI,yBAAQf,UAAWC,KAAEoM,OAArB,UACI,qBAAK5E,ICVF,ikFDUazH,UAAWC,KAAEqM,QAASzB,IAAI,SAC1C,qBAAK7K,UAAWC,KAAEsM,WAAlB,SACMxL,EAAM0B,OACF,gCAAM1B,EAAMyL,MAAZ,KAAoB,wBAAQrF,QAASpG,EAAM0L,OAAvB,wBACpB,cAAC,IAAD,CAAStM,GAAI,SAAb,yB,SEThBuM,GAAgB,oCAWhB1G,GAA+B,CAEjCtF,GAAI,KACJ6E,MAAO,KACPiH,MAAO,KACP/J,QAAQ,GAoBCkK,GAAkB,SAACjM,EAAmB6E,EAAsBiH,EAAsB/J,GAAhE,MAAqF,CAChHgB,KAAMiJ,GAAeE,QAAS,CAC1BlM,KAAI6E,QAAOiH,QAAO/J,YAOboK,GAAkB,yDAAM,WAAOzI,GAAP,uBAAAoF,EAAA,sEACVlE,IADU,OAGQ,KAFnCL,EAD2B,QAGZC,KAAKuE,aAAmB,EACRxE,EAASC,KAAKA,KAAlCxE,EAD2B,EAC3BA,GAAI6E,EADuB,EACvBA,MAAOiH,EADgB,EAChBA,MAChBpI,EAASuI,GAAgBjM,EAAI6E,EAAOiH,GAAO,KALtB,2CAAN,uDCpCxBM,G,4JAEH,WACI,OAAO,cAAC,GAAD,eAAY/I,KAAKhD,Y,GAHQiD,IAAMH,WAWhCkJ,GAAkB9I,aAJR,SAAC/B,GAAD,MAA0B,CAC9CO,OAAQP,EAAMyB,KAAKlB,OACnB+J,MAAOtK,EAAMyB,KAAK6I,SAEmC,CAAEC,OD+CrC,yDAAM,WAAOrI,GAAP,SAAAoF,EAAA,sEACDlE,IADC,OAGiB,IAHjB,OAGHJ,KAAKuE,YACdrF,EAASuI,GAAgB,KAAM,KAAM,MAAM,IAJ/B,2CAAN,wDC/CU1I,CAAoC6I,ICe9DE,GAAiB9J,YAAwB,CAC3CC,KAAM,SADaD,EAxBsC,SAAC,GAA0B,IAAzBE,EAAwB,EAAxBA,aAAa7B,EAAW,EAAXA,MACxE,OAAO,uBAAMuB,SAAUM,EAAhB,UACH,uCACA,8BACI,cAACC,EAAA,EAAD,CAAOI,KAAK,OAAOF,YAAa,QAAS5C,KAAM,QAAS2C,UAAY3B,EACpE6B,SAAU,CAAC5B,OAEf,8BACI,cAACyB,EAAA,EAAD,CAAOI,KAAK,WAAWF,YAAa,WAAY5C,KAAM,WAAY2C,UAAY3B,EACvE6B,SAAU,CAAC5B,OAEtB,gCACI,cAACyB,EAAA,EAAD,CAAOI,KAAK,WAAW9C,KAAM,aAAc2C,UAAY3B,IAD3D,kBAICJ,EAAQ,qBAAKvB,UAAWwB,IAAEyL,YAAlB,SAAgC1L,IAAc,uBAEvD,8BACI,wBAAQkC,KAAM,SAAd,2BAoCGQ,gBAJS,SAAC/B,GAAD,MAA0B,CAC9CO,OAAQP,EAAMyB,KAAKlB,UAGiB,CAAC+J,MFXpB,SAACjH,EAAeC,EAAkBC,GAAlC,8CAA0D,WAAOrB,GAAP,mBAAAoF,EAAA,sEACpDlE,EAAcC,EAAOC,EAAUC,GADqB,OAGlC,KAFnCR,EADqE,QAGtDC,KAAKuE,WACdrF,EAASyI,OAELK,EAAejI,EAASC,KAAKtC,SAASZ,OAAS,EAAIiD,EAASC,KAAKtC,SAAS,GAAK,aAC/EuK,EAASC,aAAW,QAAS,CAACC,OAAQH,IAC1C9I,EAAS+I,IARsD,2CAA1D,wDEWNlJ,EAnBA,SAAClD,GAMZ,OAAIA,EAAM0B,OACC,cAAC,IAAD,CAAUtC,GAAI,aAGlB,8BACH,cAAC6M,GAAD,CAAgBlK,SAVH,SAACwK,GACdC,QAAQC,IAAIF,GACZvM,EAAMyL,MAAMc,EAAS/H,MAAO+H,EAAS9H,SAAU8H,EAAS7H,oBC5C1DO,GAAgC,CAElCyH,aAAa,GCcXC,G,uKAEF,WAEI3J,KAAKhD,MAAM4M,oB,oBAGf,WAEI,OAAK5J,KAAKhD,MAAM0M,YAMR,sBAAKzN,UAAU,MAAf,UACI,cAAC+M,GAAD,IACA,cAAC,EAAD,IAEA,sBAAK/M,UAAW,UAAhB,UAEI,cAAC,IAAD,CAAiB4N,KAAM,oBACNC,OAAQ,kBACJ,cAAC3B,GAAD,OAUrB,cAAC,IAAD,CAAO0B,KAAM,WAAYC,OAAQ,kBAC7B,cAAC3J,EAAD,OAWJ,cAAC,IAAD,CAAO0J,KAAM,SAAUC,OAAQ,kBAAM,cAACtE,GAAD,OACrC,cAAC,IAAD,CAAOqE,KAAM,SAAUC,OAAQ,kBAAM,cAAC,EAAD,OACrC,cAAC,IAAD,CAAOD,KAAM,YAAaC,OAAQ,kBAAM,cAAC,EAAD,OACxC,cAAC,IAAD,CAAOD,KAAM,SAAUC,OAAQ,kBAAM,cAAC,GAAD,aAtC1C,cAAC,GAAD,Q,GAVD7J,IAAMH,WA8DRM,eACZgI,IACAlI,aANoB,SAAC/B,GAAD,MAA0B,CAC9CuL,YAAavL,EAAM4L,IAAIL,eAKE,CAACE,gBDvDC,kBAAM,SAACvJ,GAClC,IAAI2J,EAAU3J,EAASyI,MACvBmB,QAAQC,IAAI,CAACF,IAAUtO,MAAK,WACxB2E,EANiC,CAACX,KAAM,+BCwDhCU,CAEiCuJ,ICxF3C1H,I,OAA4B,I,oBCU9BkI,GAAcC,YACd,CACI5C,YduBsB,WAAgF,IAA/ErJ,EAA8E,uDAArD8D,GAAcmH,EAAuC,uCAEzG,OAAQA,EAAO1J,MAEX,IAAK,WAED,IAAM2K,EAAyB,CAC3B1N,GAAI,IACJG,QAASsM,EAAO1B,SAChBd,YAAa,KAGjB,OAAO,2BAAIzI,GAAX,IAAkBwI,UAAU,CAAE0D,GAAH,mBAAelM,EAAMwI,YAAa2D,mBAAoB,KAMrF,IAAK,mBACD,OAAO,2BAAInM,GAAX,IAAkBsI,QAAS2C,EAAO3C,UAEtC,IAAK,aAED,OAAO,2BAAItI,GAAX,IAAkB4D,OAAQqH,EAAOrH,SAErC,IAAK,cACD,OAAO,2BAAI5D,GAAX,IAAkBwI,UAAWxI,EAAMwI,UAAU4D,QAAO,SAAApH,GAAC,OAAIA,EAAExG,KAAOyM,EAAOoB,YAE7E,QACI,OAAOrM,IcnDXC,YlC6BsB,WAA+D,IAA9DD,EAA6D,uDAApC1B,EAAW2M,EAAyB,uCAExF,OAAQA,EAAO1J,MAMX,IAAK,eACD,IAAI+K,EAAcrB,EAAOnK,eAEzB,OAAO,2BACAd,GADP,IAEItB,aAAa,GAAD,mBAAMsB,EAAMtB,cAAZ,CAA0B,CAACF,GAAI,IAAKG,QAAS2N,OAKrE,OAAOtM,GkC9CHuM,QDZuB,WAA8D,IAA7DvM,EAA4D,uDAAvC8D,GAEjD,OAAO9D,GCWH2G,UzB2DoB,WAAoE,IAAnE3G,EAAkE,uDAA1D8D,GAAcmH,EAA4C,uCAE3F,OAAQA,EAAO1J,MACX,IAAK,SACD,OAAO,2BACAvB,GADP,IACc+D,MAAO/D,EAAM+D,MAAM5D,KAAI,SAAA8F,GACzB,OAAIA,EAAEzH,KAAOyM,EAAOhI,OACT,2BAAIgD,GAAX,IAAcN,UAAU,IAErBM,OAKvB,IAAK,WACD,OAAO,2BACAjG,GADP,IACc+D,MAAO/D,EAAM+D,MAAM5D,KAAI,SAAA8F,GACzB,OAAIA,EAAEzH,KAAOyM,EAAOhI,OACT,2BAAIgD,GAAX,IAAcN,UAAU,IAErBM,OAKvB,IAAK,YACD,OAAO,2BAAIjG,GAAX,IAAkB+D,MAAM,YAAKkH,EAAOlH,SAGxC,IAAK,mBACD,OAAO,2BAAI/D,GAAX,IAAkB4C,YAAaqI,EAAOrI,cAG1C,IAAK,wBACD,OAAO,2BAAI5C,GAAX,IAAkBgE,gBAAiBiH,EAAOjH,kBAG9C,IAAK,qBACD,OAAO,2BAAIhE,GAAX,IAAkBiE,WAAYgH,EAAOhH,aAEzC,IAAK,8BACD,OAAO,2BACAjE,GADP,IAEIkE,kBAAmB+G,EAAOhH,WAAP,sBACTjE,EAAMkE,mBADG,CACgB+G,EAAOhI,SACpCjD,EAAMkE,kBAAkBkI,QAAO,SAAC5N,GAAD,OAAaA,IAAOyM,EAAOhI,YAIxE,QACI,OAAOjD,IyB5GXyB,KNOmB,WAAyE,IAAxEzB,EAAuE,uDAA/D8D,GAAcmH,EAAiD,uCAE/F,OAAQA,EAAO1J,MACX,KAAKiJ,GACD,OAAO,2BACAxK,GACAiL,EAAOP,SAGlB,QACI,OAAO1K,IMhBXiB,KAAMuL,KACNZ,IHJkB,WAA2E,IAA1E5L,EAAyE,uDAAjE8D,GAAcmH,EAAmD,uCAEhG,OAAQA,EAAO1J,MACX,IAAK,sBACD,OAAO,2BACAvB,GADP,IAEIuL,aAAa,IAGrB,QACI,OAAOvL,MGDRyM,GAA4BC,YAAYV,GAAaW,YAAgBC,OCb5EC,IAASlB,OACL,cAAC,IAAMmB,WAAP,UACI,cAAC,IAAD,UACA,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACI,cAAC,GAAD,UAKRM,SAASC,eAAe,SAUhC5P,K,mBC9BAF,EAAOC,QAAU,CAAC,QAAU,yBAAyB,aAAe,8BAA8B,OAAS,wBAAwB,OAAS,0B,mBCA5ID,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,YAAc,qC,mBCAtHD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,OAAS,sB,mBCAlDD,EAAOC,QAAU,CAAC,OAAS,uBAAuB,QAAU,wBAAwB,eAAe,6BAA6B,WAAa,8B","file":"static/js/main.6a0a399a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2txsQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__J3LEV\",\"selectedPage\":\"Users_selectedPage__SWZ7W\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__3W-rt\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport c from './Nav.module.css'\r\n\r\n\r\nexport const Nav = () => {\r\n    return(\r\n        <nav className={c.nav}>\r\n            <div>\r\n                <NavLink to='/profile' activeClassName={c.active}>Profile</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/dialogs' activeClassName={c.active}>Messages</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/users' activeClassName={c.active}>Users</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/music' activeClassName={c.active}>Music</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/settings' activeClassName={c.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Music =()=>{\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Settings =()=> {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import {ActionsTypes, dialogsPageType} from \"./store\";\r\n\r\n// export type UpdateMessageBodyType = {\r\n//     type: 'UPDATE-MESSAGE-BODY'\r\n//     newText: string\r\n// }\r\nexport type SendMessageType = {\r\n    type: 'SEND-MESSAGE'\r\n    newMessageBody: string\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => { //actionCreator\r\n    return {\r\n        type: 'SEND-MESSAGE',\r\n        newMessageBody: newMessageBody,\r\n    }\r\n}\r\n// export const UpdateMessageBodyAC = (newText: string): UpdateMessageBodyType => {  //actionCreator\r\n//     return {\r\n//         type: 'UPDATE-MESSAGE-BODY',\r\n//         newText: newText,\r\n//     }\r\n// }\r\n\r\nconst initState: dialogsPageType = {\r\n    dialogsData: [\r\n        {id: '1', name: 'Billy'},\r\n        {id: '2', name: 'Frankie'},\r\n        {id: '3', name: 'Mario'},\r\n        {id: '4', name: 'Itzka'},\r\n        {id: '5', name: 'Adam'},\r\n        {id: '6', name: 'Hue'},\r\n    ],\r\n    messagesData: [\r\n        {id: '1', message: 'Hello guys'},\r\n        {id: '2', message: 'Hello you guys'},\r\n        {id: '3', message: 'How is your going'},\r\n        {id: '4', message: 'What have you seen'},\r\n        {id: '5', message: 'Hello guys'},\r\n        {id: '6', message: 'Hello guys'},\r\n    ],\r\n   // newMessageBody: '',\r\n}\r\n\r\nexport const dialogsReducer = (state: dialogsPageType = initState, action: ActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n\r\n        // case 'UPDATE-MESSAGE-BODY':\r\n        //\r\n        //     return {...state, newMessageBody: action.newText}\r\n\r\n        case 'SEND-MESSAGE':\r\n            let messageText = action.newMessageBody\r\n\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: '7', message: messageText}],\r\n\r\n            }\r\n    }\r\n\r\n    return state\r\n}\r\n","import React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport c from './../dialogs.module.css'\r\n\r\n\r\ntype DialogItemType = {\r\n    name: string\r\n    id: string\r\n}\r\nexport const DialogItem = (props: DialogItemType) => {\r\n    return (\r\n        <div className={c.dialog}>\r\n            <NavLink to={'/dialogs/' + props.id}>{props.name}</NavLink>\r\n        </div>\r\n    )\r\n}\r\n\r\n","import c from \"../dialogs.module.css\";\r\nimport React from \"react\";\r\n\r\ntype MessageType = {\r\n    content: string\r\n}\r\nexport const MessageItem = (props:MessageType) => {\r\n    return(\r\n        <div className={c.message}>{props.content}</div>\r\n    )\r\n}","import s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ( props: any)=> {\r\n\r\n    const gotError = props.meta.touched && props.meta.error\r\n\r\n    return (\r\n        <div className={s.formControl +' '+ (gotError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...props.input} {...props} />\r\n            </div>\r\n            {gotError ? <span>{props.meta.error}</span> : <br/> }\r\n        </div>\r\n    )\r\n}\r\n\r\n// {...props} means that textarea component gives all the props to a child component\r\n\r\nexport const Input = ( props: any)=> {\r\n\r\n    const gotError = props.meta.touched && props.meta.error\r\n\r\n    return (\r\n        <div className={s.formControl +' '+ (gotError ? s.error : '')}>\r\n            <div>\r\n                <input {...props.input} {...props} />\r\n            </div>\r\n            {gotError ? <span>{props.meta.error}</span> : <br/> }\r\n        </div>\r\n    )\r\n}","\r\nexport const requiredField = (value: string) => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if(value && value.length > maxLength) return `Max length should be fewer or equal ${maxLength} characters `;\r\n\r\n    return undefined ;\r\n}\r\n\r\n// export const maxLength30 = (value: string) => {\r\n//     if(value && value.length > 30) return 'Max length should be fewer or equal 30 characters ';\r\n//\r\n//     return undefined ;\r\n// }","import React, {ChangeEvent} from \"react\";\r\nimport c from './dialogs.module.css'\r\nimport {DialogItem} from \"./DialogItem/DialogItem\";\r\nimport {MessageItem} from \"./Message/MessageItem\";\r\nimport {  dialogsPageType,} from \"../../Redux/store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport  {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Textarea} from \"../coomon/FormsControls\";\r\nimport {maxLengthCreator, requiredField} from \"../../Utilits/validators/validators\";\r\n\r\ntype DialogsPropsType = {\r\n    //dialogsData: Array<dialogsDataType>\r\n    //messagesData: Array<messagesDataType>\r\n    //newMessageBody: string\r\n    //dispatch: (action: ActionsTypes) => void\r\n    updateNewMessageBody: (newText: string) => void\r\n    sendMessage: (message?: string) => void\r\n    dialogsPage: dialogsPageType\r\n    isAuth: boolean\r\n}\r\n\r\nexport const Dialogs = (props: DialogsPropsType) => {\r\n\r\n    let state = props.dialogsPage\r\n\r\n    const dialogsElements = state.dialogsData.map(d => <DialogItem name={d.name} id={d.id}/>)\r\n\r\n    const messagesElements = state.messagesData.map(m => <MessageItem content={m.message}/>)\r\n\r\n   // const newMessageBody = state.newMessageBody\r\n\r\n    // const onMessageClick = () => {\r\n    //     //props.dispatch(sendMessageAC())\r\n    //     props.sendMessage()\r\n    // }\r\n\r\n    // const onNewMessageChange = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     let newText = e.currentTarget.value\r\n    //     //props.dispatch(UpdateMessageBodyAC(newText))\r\n    //     props.updateNewMessageBody(newText)\r\n    // }\r\n\r\n    const addNewMessage = (value: AddMessageFormType) => {\r\n\r\n        props.sendMessage(value.newMessageBody);\r\n    }\r\n\r\n    if (props.isAuth === false) return <Redirect to={'/login'}/>\r\n\r\n    return (\r\n        <div className={c.dialogs}>\r\n            <div className={c.dialogsItems}>\r\n\r\n                {dialogsElements}\r\n\r\n            </div>\r\n            <div className={c.messages}>\r\n\r\n                <div>{messagesElements}</div>\r\n                {/*<form>*/}\r\n                {/*    <div>*/}\r\n                {/*        <textarea value={newMessageBody}*/}\r\n                {/*                  placeholder={'Type your text here'}*/}\r\n                {/*                  onChange={onNewMessageChange}>*/}\r\n                {/*        </textarea>*/}\r\n                {/*    </div>*/}\r\n                {/*    <div>*/}\r\n                {/*        <button onClick={onMessageClick}>Add</button>*/}\r\n                {/*    </div>*/}\r\n                {/*</form>*/}\r\n                <AddMessageFormRedux onSubmit={addNewMessage}/>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst maxLength50 = maxLengthCreator(50)\r\n\r\ntype AddMessageFormType = {\r\n\r\n    newMessageBody: string\r\n\r\n}\r\n\r\nconst AddMessageForm: React.FC<InjectedFormProps<AddMessageFormType>>  = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field component={Textarea} name = {'newMessageBody'} placeholder={'Type your text here'}\r\n                validate = {[requiredField, maxLength50]}/>\r\n\r\n            </div>\r\n            <div>\r\n                <button type={\"submit\"}>Add</button>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}\r\n\r\nconst AddMessageFormRedux = reduxForm<AddMessageFormType & any>({\r\n    form: 'dialogAddMessageForm' // unique name of using form\r\n}) (AddMessageForm)","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../Redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state:AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component: any) => {\r\n    class RedirectComponent extends React.Component<any, any> {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import React from \"react\";\r\nimport {ActionsTypes, dialogsPageType, stateType, StoreType} from \"../../Redux/store\";\r\nimport {sendMessageAC} from \"../../Redux/dialogsReducer\";\r\nimport {Dialogs} from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nlet mapStateToProps = (state: AppStateType) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch: (action: ActionsTypes) => void) => {\r\n    return {\r\n        // updateNewMessageBody: (newText: string) => {\r\n        //     dispatch(UpdateMessageBodyAC(newText))\r\n        // },\r\n        sendMessage: (newMessageBody: string) => {\r\n            dispatch(sendMessageAC(newMessageBody))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nconst AuthRedirectComponent = withAuthRedirect(Dialogs);\r\n\r\nexport const DialogsContainer = compose<React.ComponentType>( // compose doesn't work without Type: <React.ComponentType>\r\n    connect(mapStateToProps, mapDispatchToProps),             // 1-st wrapper\r\n    withAuthRedirect                                          // 2-nd wrapper\r\n)(Dialogs);                                                   // Component\r\n\r\n\r\n","import axios from \"axios\";\r\n\r\nconst baseUrl: string = `https://social-network.samuraijs.com/api/1.0/`\r\n\r\nconst instance = axios.create({\r\n        withCredentials: true,\r\n        baseURL: baseUrl,\r\n        headers: {\r\n            \"API-KEY\": \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        },\r\n    }\r\n)\r\n\r\nexport const getUsers = (currentPage: number = 1, pageSize: number = 10) => {\r\n\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nconst getUserData = (userId: number) => {\r\n    return instance.get(`profile/${userId}`,)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const unFollowUser = (id: string | number) => {\r\n    return instance.delete(baseUrl + `follow/${id}`,)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const followUser = (id: string | number) => {\r\n    return instance.post(baseUrl + `follow/${id}`, {},)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    getUserData(userId: number) {\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n\r\n    unFollowUser(id: string | number) {\r\n        return instance.delete(baseUrl + `follow/${id}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    followUser(id: string | number) {\r\n        return instance.post(baseUrl + `follow/${id}`, {},)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email: string, password : string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email , password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n\r\n};\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n};","import {followUser, unFollowUser, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type UserType = {\r\n    id: string\r\n    photoUrl: string\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: { city: string, country: string }\r\n    photos: { small: string, large: string }\r\n}\r\n\r\nexport type UsersStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: [] | boolean | any\r\n}\r\n\r\ntype FollowActionType = {\r\n    type: 'FOLLOW'\r\n    userId: string\r\n}\r\n\r\ntype UnfollowActionType = {\r\n    type: 'UNFOLLOW'\r\n    userId: string\r\n}\r\n\r\nexport type UserActionsType =\r\n    FollowActionType\r\n    | UnfollowActionType\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleFollowingProcess>\r\n\r\nconst initialState: UsersStateType = {\r\n\r\n    users: [\r\n        // {\r\n        //     id: '1',\r\n        //     photoUrl: \"https://static.planetminecraft.com/files/resource_media/screenshot/1218/mp1335340272752_2126903_thumb.jpg\",\r\n        //     followed: false,\r\n        //     name: 'Maverick',\r\n        //     status: 'Huge wave',\r\n        //     location: {city: 'Half Moon Bay', country: 'US'}\r\n        // },\r\n        // {\r\n        //     id: '2',\r\n        //     photoUrl: 'https://ru.warface.com/forums/image.php?u=1248304&dateline=1399797419',\r\n        //     followed: true,\r\n        //     name: 'Big Rock',\r\n        //     status: 'Boss',\r\n        //     location: {city: 'Rock City', country: 'Mexico'}\r\n        // },\r\n        // {\r\n        //     id: '3',\r\n        //     photoUrl: 'https://gif-avatars.com/img/100x100/homer-stoned.gif',\r\n        //     followed: false,\r\n        //     name: 'Hermes',\r\n        //     status: 'Supervisor',\r\n        //     location: {city: 'Boca Chica', country: 'Dominicana'}\r\n        // }\r\n    ],\r\n    pageSize: 100,\r\n    totalUsersCount: 1,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingProgress: []\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: UserActionsType): UsersStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: true}\r\n                        }\r\n                        return u\r\n                    }\r\n                )\r\n            }\r\n\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: false}\r\n                        }\r\n                        return u\r\n                    }\r\n                )\r\n            }\r\n\r\n        case \"SET-USERS\": {\r\n            return {...state, users: [...action.users,]} //...state.users\r\n        }\r\n\r\n        case \"SET-CURRENT-PAGE\": {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case \"SET-TOTAL-USERS-COUNT\": {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case \"TOGGLE-IS-FETCHING\": {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case \"TOGGLE-IS-FOLLOWING-PROCESS\": {\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userId]\r\n                    : state.followingProgress.filter((id: any) => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId: string): FollowActionType => ({type: 'FOLLOW', userId})\r\nexport const unfollowSuccess = (userId: string): UnfollowActionType => ({type: 'UNFOLLOW', userId})\r\nexport const setUsers = (users: UserType[]) => ({type: 'SET-USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'SET-CURRENT-PAGE', currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: 'SET-TOTAL-USERS-COUNT',\r\n    totalUsersCount\r\n} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'TOGGLE-IS-FETCHING', isFetching} as const)\r\nexport const toggleFollowingProcess = (isFetching: boolean, userId: string) => ({\r\n    type: 'TOGGLE-IS-FOLLOWING-PROCESS',\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        // if (this.props.users.length === 0)\r\n\r\n        // axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const follow = (userId: string) => {\r\n\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingProcess(true, userId))\r\n        // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await followUser(userId)\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProcess(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: string) => {\r\n\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleFollowingProcess(true, userId))\r\n        // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await unFollowUser(userId)\r\n\r\n                if (data.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProcess(false, userId))\r\n    }\r\n}","import React from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\ntype PaginatorPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        {pages.map(p => <span onClick={(e) => {\r\n            props.onPageChanged(p)\r\n        }} className={props.currentPage === p ? s.selectedPage : ''}>{p}</span>)}\r\n    </div>\r\n\r\n}\r\n","export default __webpack_public_path__ + \"static/media/homer-warrior.0d5993ef.jpg\";","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport {UserType} from \"../../Redux/users-reducer\";\r\nimport userPhoto from \"../../assets/images/homer-warrior.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserPropsType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    followingProgress: any\r\n    user: UserType\r\n}\r\n\r\nexport const User = ({user, ...props}: UserPropsType) => {\r\n\r\n    return <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'profile/' + user.id}>\r\n                            <img src={user.photos.small ? user.photos.small : userPhoto} className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button\r\n                                disabled={props.followingProgress.some((id: any) => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.unfollow(user.id)\r\n                                }}>\r\n                                Unfollow\r\n                            </button>\r\n\r\n                            : <button\r\n                                disabled={props.followingProgress.some((id: any) => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.follow(user.id)\r\n                                }}>\r\n                                Follow\r\n                            </button>}\r\n\r\n                    </div>\r\n                </span>\r\n        <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n    </div>\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {UserType} from \"../../Redux/users-reducer\";\r\nimport {Paginator} from \"../coomon/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\ntype UsersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: UserType[]\r\n    onPageChanged: (pageNumber: number) => void\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    //toggleFollowingProcess: (isFetching: boolean, id: string) => void\r\n    followingProgress: any\r\n}\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n\r\n    return <div>\r\n\r\n        <Paginator totalUsersCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged}/>\r\n\r\n        {props.users.map((u: UserType) => <User follow={props.follow}\r\n                                                   unfollow={props.unfollow}\r\n                                                   followingProgress={props.followingProgress}\r\n                                                   user={u} key={u.id} />\r\n        )}\r\n\r\n    </div>;\r\n}\r\n","export default __webpack_public_path__ + \"static/media/preloader.a1a99674.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\ntype PreloaderPropsType = {\r\n\r\n}\r\n\r\nexport const Preloader = (props: PreloaderPropsType) => {\r\n    return  <div style={{position: 'absolute', margin: '30vh 40%'}}>\r\n        <img src={preloader} style={{width: '60px', height: '60px'}}/>\r\n    </div>\r\n}","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n const getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersPage = createSelector(getUsersSelector, users => users);\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingProgress\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    toggleFollowingProcess,\r\n    toggleIsFetching,\r\n    unfollow,\r\n    UserType\r\n} from \"../../Redux/users-reducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../coomon/preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersPage\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\nexport type mapStateToPropsReturnType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: boolean\r\n}\r\n\r\ntype mapDispatchReturnType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    setUsers: (users: UserType[] | any) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    setTotalUsersCount: (totalCount: number) => void\r\n    toggleIsFetching: (isFetching: boolean) => void\r\n    toggleFollowingProcess: (isFetching: boolean, id: string) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\n\r\nexport type UsersPropsType = mapStateToPropsReturnType & mapDispatchReturnType\r\n\r\nclass UsersContainerClass extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader/>\r\n                : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage} users={this.props.users}\r\n                   onPageChanged={this.onPageChanged} follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   //toggleFollowingProcess={this.props.toggleFollowingProcess}\r\n                   followingProgress={this.props.followingProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsReturnType => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getPageSize(state), //use selector instead following-- state.usersPage.pageSize\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingProgress(state),\r\n    }\r\n}\r\n\r\nlet withRedirect = withAuthRedirect(UsersContainerClass);\r\n\r\n// export const UsersContainer = connect(mapStateToProps, {\r\n//                 // when object's  key === property the shorthand is available\r\n//\r\n//\r\n//     follow,                   //equal to   follow: follow,\r\n//     unfollow,                 //equal to   unfollow: unfollow,\r\n//     setUsers,                 //equal to   setUsers: setUsers,\r\n//     setCurrentPage,           //equal to   setCurrentPage: setCurrentPage,\r\n//     setTotalUsersCount,       //equal to   setTotalUsersCount: setTotalUsersCount,\r\n//     toggleIsFetching,         //equal to   toggleIsFetching: toggleIsFetching,\r\n//     toggleFollowingProcess,\r\n//     getUsers,\r\n//\r\n// })(withRedirect)\r\n\r\nexport const UsersContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, { // 1-st function wrapper\r\n            follow,\r\n            unfollow,\r\n            setUsers,\r\n            setCurrentPage,\r\n            setTotalUsersCount,\r\n            toggleIsFetching,\r\n            toggleFollowingProcess,\r\n            getUsers,\r\n        }\r\n    ))   // 2-nd function wrapper --> redirect unauthorised user to login page\r\n(UsersContainerClass)     // Component\r\n\r\n","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\ntype ProfileStatusType = {\r\n    status: string\r\n    updateStatus: (newStatus: string) => void\r\n}\r\n\r\nexport const ProfileStatusWithHooks = (props: ProfileStatusType) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n    const [status, setStatus] = useState(props.status)\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status)  //  current status synchronisation\r\n    }, [editMode])          // make synchronise when editMode has changed\r\n\r\n    const editModeOn = () => {\r\n        setEditMode(true) // set editMode to true\r\n\r\n    }\r\n\r\n    const editModeOff = () => {\r\n        setEditMode(false); // set editMode to false\r\n        props.updateStatus(status) // send new status to server\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n\r\n    return (\r\n        <div>\r\n            {editMode\r\n                ?\r\n                <div><input onChange={onStatusChange} onBlur={editModeOff} value={status}\r\n                            autoFocus/></div>\r\n                :\r\n                <div><span onDoubleClick={editModeOn}>{props.status || 'No status yet'}</span></div>\r\n            }\r\n            <br/>\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\nimport {Preloader} from \"../../coomon/preloader/Preloader\";\r\nimport userPhoto from \"../../../assets/images/homer-warrior.jpg\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {ProfileStatusWithHooks} from \"./ProfileStatusWithHooks\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: any\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\nexport const ProfileInfo = (props: ProfileInfoType) => {\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {/*<div>*/}\r\n            {/*    <img alt={'warriors'} width={'100%'} height={'350 px'}*/}\r\n            {/*         src={'https://petapixel.com/assets/uploads/2016/10/earnestbrooks.jpg'}/>*/}\r\n            {/*</div>*/}\r\n\r\n            <div>\r\n                <img src={props.profile.photos.large ? props.profile.photos.large : userPhoto}/>\r\n\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={props.updateStatus}/>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n","import { postsDataType, profilePageType,} from \"./store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nexport type ProfileReducerActionsTypes = ReturnType<typeof addPostAC> |\r\n    ReturnType<typeof setUserProfile> | ReturnType<typeof setStatus> | ReturnType<typeof deletePost>\r\n\r\nexport const addPostAC = (text: string) => {  //actionCreator with auto type\r\n    return {\r\n        type: 'ADD-POST',\r\n        postText: text,\r\n    } as const\r\n}\r\n// export const updateInputTextAC = (inputText: string) => { //actionCreator with auto type\r\n//     return {\r\n//         type: 'UPDATE-INPUT-TEXT',\r\n//         inputText: inputText,\r\n//     } as const\r\n// }\r\n\r\n\r\nconst initialState: profilePageType = {\r\n\r\n    postsData: [\r\n        {id: '1', message: 'hi what\\'s new', likesAmount: '6'},\r\n        {id: '2', message: 'Hello i\\'m an alien from planet of ww1', likesAmount: '15'},\r\n        {id: '3', message: 'How is your going', likesAmount: '2'},\r\n        {id: '4', message: 'What have you seen', likesAmount: '1'},\r\n        {id: '5', message: 'Hello guys', likesAmount: '0'},\r\n        {id: '6', message: 'Hello guys', likesAmount: '3'},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n}\r\n\r\nexport const profileReducer = (state: profilePageType = initialState, action: ProfileReducerActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'ADD-POST':\r\n\r\n            const newPost: postsDataType = {\r\n                id: '7',\r\n                message: action.postText,\r\n                likesAmount: '0'\r\n            };\r\n\r\n            return {...state, postsData: [newPost, ...state.postsData,], newPostDataMessage: \"\"}\r\n\r\n        // case 'UPDATE-INPUT-TEXT':\r\n        //\r\n        //     return {...state, newPostDataMessage: action.inputText}\r\n\r\n        case \"SET-USER-PROFILE\":\r\n            return {...state, profile: action.profile}\r\n\r\n        case 'SET-STATUS':\r\n\r\n            return {...state, status: action.status}\r\n\r\n        case \"DELETE-POST\":\r\n            return {...state, postsData: state.postsData.filter(p => p.id !== action.postId)}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const setUserProfile = (profile: any) => ({type: 'SET-USER-PROFILE', profile} as const)\r\n\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\r\n   const data = await usersAPI.getUserData(userId)\r\n\r\n        dispatch(setUserProfile(data))\r\n\r\n}\r\n\r\nexport const setStatus = (status: string) => ({type: 'SET-STATUS',  status} as const)\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n\r\n        dispatch(setStatus(response.data))\r\n\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n}\r\n\r\nexport const deletePost = (postId: string) => ({type: 'DELETE-POST',  postId} as const);","import React from \"react\";\r\nimport c from './Post.module.css'\r\ntype PostPropsType = {\r\n    message: string\r\n    likesAmount: string\r\n}\r\nexport const Post = (props: PostPropsType) => {\r\n    return (\r\n        <div className={c.post}>\r\n            <img alt={'avatar'}\r\n                 src={'https://i0.wp.com/www.defensemedianetwork.com/wp-content/uploads/2012/09/Army-Gas-Mask-And-Protective-Clothing.jpg?ssl=1'}/>\r\n            {props.message}\r\n            <span>     </span>\r\n            <span>like: </span> {props.likesAmount}\r\n        </div>\r\n    )\r\n}","import React, {ChangeEvent} from \"react\";\r\nimport c from './MyPosts.module.css'\r\nimport {Post} from \"./Post/Post\";\r\nimport {ActionsTypes, postsDataType} from \"../../../Redux/store\";\r\n\r\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {maxLengthCreator, requiredField} from \"../../../Utilits/validators/validators\";\r\nimport {Textarea} from \"../../coomon/FormsControls\";\r\n\r\n\r\n\r\ntype MyPostsPropsType = {\r\n    postsData: Array<postsDataType>\r\n    addPost: (postText: string) => void\r\n    //updateInputText: (inputText: string) => void\r\n    //message: string\r\n    //dispatch: (action: ActionsTypes) => void\r\n}\r\n\r\nexport const MyPosts = React.memo( (props: MyPostsPropsType) => {\r\n\r\n\r\n    const postsElements = props.postsData.map(p => <Post message={p.message} likesAmount={p.likesAmount}/>)\r\n\r\n    // const addNewPost = () => {\r\n    //\r\n    //     let text = props.message\r\n    //     // text ? props.dispatch({type: 'ADD-POST', postText: text}) : alert('message is expected')\r\n    //     text ? props.addPost(text) : alert('message is expected')\r\n    //     //text ? props.dispatch(addPostAC(text)) : alert('message is expected')\r\n    // }\r\n\r\n    // const onChangeInputValue = (e: ChangeEvent<HTMLTextAreaElement>) => {\r\n    //     let inputText = e.currentTarget.value\r\n    //     props.updateInputText(inputText)\r\n    //     // props.dispatch({type: \"UPDATE-INPUT-TEXT\", inputText: e.currentTarget.value})\r\n    //     //props.dispatch(updateInputTextAC(e.currentTarget.value))\r\n    // }\r\n\r\n    const onAddPost = (values: newPostType) => {\r\n        props.addPost(values.newPostText)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            My posts\r\n\r\n            {/*<form>*/}\r\n            {/*    <textarea onChange={onChangeInputValue} value={props.message}/>*/}\r\n            {/*    /!*<textarea ref={newPostRef} onChange={onChangeInputValue} value={props.message}/>*!/*/}\r\n            {/*    <br/>*/}\r\n            {/*    <button onClick={addNewPost}>Add post</button>*/}\r\n            {/*</form>*/}\r\n\r\n            <ReduxPostForm onSubmit={onAddPost}/>\r\n\r\n            {postsElements}\r\n\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\ntype newPostType = {\r\n    newPostText: string\r\n}\r\n\r\nconst addPostForm: React.FC<InjectedFormProps<newPostType>> = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <Field component={Textarea} name={'newPostText'} placeholder={'Type your post here'}\r\n                   validate={[requiredField, maxLength10]}/>\r\n\r\n            <button type={'submit'}>Add post</button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst ReduxPostForm = reduxForm<newPostType | any>({\r\n    form: 'ProfileAddNewPostForm' // unique name of using form\r\n}) (addPostForm)","import React, {ChangeEvent} from \"react\";\r\nimport {Post} from \"./Post/Post\";\r\nimport {ActionsTypes, postsDataType, stateType, StoreType} from \"../../../Redux/store\";\r\nimport {addPostAC} from \"../../../Redux/profileReducer\";\r\nimport {MyPosts} from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n\r\nconst mapStateToProps = (state: stateType) => {\r\n    return {\r\n        postsData: state.profilePage.postsData,\r\n       // message: state.profilePage.newPostDataMessage\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch: (action: ActionsTypes) => void) => {\r\n    return {\r\n        // updateInputText: (inputText: string) => {\r\n        //     dispatch(updateInputTextAC(inputText))\r\n        // },\r\n        addPost: (text: string) => {\r\n\r\n            dispatch(addPostAC(text))\r\n        }\r\n    }\r\n}\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\n\r\n// type MyPostsContainerPropsType = {\r\n//     //postsData: Array<postsDataType>\r\n//     //addPost: (postText: string) => void\r\n//     //updateInputText: (inputText: string) => void\r\n//     //message: string\r\n//     //dispatch: (action: ActionsTypes) => void\r\n//     store: StoreType\r\n// }\r\n//\r\n// export const MyPostsContainer = (props: MyPostsContainerPropsType) => {\r\n//     let state: stateType = props.store.getState()\r\n//\r\n//     const addPost = (text: string) => {\r\n//\r\n//         //let text = state.profilePage.newPostDataMessage\r\n//         // text ? props.dispatch({type: 'ADD-POST', postText: text}) : alert('message is expected')\r\n//         //text ? props.addPost(text) : alert('message is expected')\r\n//         props.store.dispatch(addPostAC(text))\r\n//     }\r\n//\r\n//     const onChangeInputValue = (inputText: string) => {\r\n//         //let inputText = e.currentTarget.value\r\n//         //props.updateInputText(inputText)\r\n//         // props.dispatch({type: \"UPDATE-INPUT-TEXT\", inputText: e.currentTarget.value})\r\n//         props.store.dispatch(updateInputTextAC(inputText))\r\n//     }\r\n//\r\n//     return (\r\n//         <MyPosts postsData={state.profilePage.postsData} message={state.profilePage.newPostDataMessage}\r\n//                  updateInputText={onChangeInputValue}\r\n//                  addPost={addPost}\r\n//         />\r\n//     )\r\n// }","import React from \"react\";\r\nimport {MyPosts} from \"./MyPosts/MyPosts\";\r\nimport {ProfileInfo} from \"./ProfileInfo/ProfileInfo\";\r\nimport {ActionsTypes, postsDataType, StoreType} from \"../../Redux/store\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\ntype ProfilePropsType = {\r\n    //postsData: Array<postsDataType>\r\n    // addPost: (postText: string) => void\r\n    //updateInputText: (inputText: string) => void\r\n    //message: string\r\n    //dispatch: (action: ActionsTypes) => void\r\n    //store: AppStateType//StoreType\r\n    profile: any\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n}\r\n\r\nexport const Profile = (props: ProfilePropsType) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer/>\r\n\r\n            {/*<MyPosts postsData={props.postsData} message={props.message}*/}\r\n            {/*         dispatch={props.dispatch}*/}\r\n            {/*    addPost={props.addPost}*/}\r\n            {/*    updateInputText={props.updateInputText}*/}\r\n            {/*/>*/}\r\n        </div>\r\n\r\n    )\r\n}","import React from \"react\";\r\n\r\nimport {Profile} from \"./Profile\";\r\n\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, updateStatus} from \"../../Redux/profileReducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {RouteComponentProps, withRouter} from \"react-router\";\r\n\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\ntype ProfileContainerPropsType = {\r\n    // store: AppStateType//StoreType\r\n    //setUserProfile: (profile: any) => void\r\n    profile: any\r\n    getUserProfile: (userId: number) => void\r\n    isAuth: boolean\r\n    getStatus: (userId: number) => void\r\n    updateStatus: (status: string) => void\r\n    status: string\r\n    authorisedUseId: string | number\r\n}\r\n\r\ntype PathParamType = {\r\n    userId: string | any\r\n\r\n}\r\n\r\ntype CommonPropsType = RouteComponentProps<PathParamType> & ProfileContainerPropsType\r\n\r\nclass ProfileContainerComponent extends React.Component<CommonPropsType, any> {\r\n\r\n    componentDidMount() {\r\n        let userId = this.props.match.params.userId\r\n        if (!userId) {\r\n            userId = this.props.authorisedUseId;\r\n            if (!userId){this.props.history.push('/login')}\r\n        }\r\n\r\n        this.props.getUserProfile(userId)\r\n        this.props.getStatus(userId)\r\n    }\r\n\r\n    render() {\r\n\r\n        //if (this.props.isAuth === false) return <Redirect to={'/login'}/>\r\n\r\n        return (\r\n            <Profile {...this.props} profile={this.props.profile} status={this.props.status} updateStatus={this.props.updateStatus}/>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorisedUseId: state.auth.id,\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\n\r\n// let AuthRedirectComponent: any = withAuthRedirect(ProfileContainerComponent);\r\n//\r\n// let WithUrlDataContainerComponent = withRouter(AuthRedirectComponent)\r\n\r\n\r\nexport const ProfileContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}), // 1-st wrapper\r\n    withRouter,                                                 // 2-nd wrapper\r\n    //withAuthRedirect                                            // 3-rd wrapper\r\n)(ProfileContainerComponent);                                   // Component","import logo from \"../../logo.png\";\r\nimport React from \"react\";\r\nimport c from './Header.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nexport const Header = (props: any) => {\r\n\r\n    return (\r\n        <header className={c.header}>\r\n            <img src={logo} className={c.AppLogo} alt=\"logo\"/>\r\n            <div className={c.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login}  <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink> }\r\n            </div>\r\n        </header>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET-USER-DATA'\r\n\r\ntype UserServerType = {\r\n    id: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n}\r\n\r\ntype UserActionServerType = ReturnType<typeof setAuthUserData>\r\n\r\nconst initialState: UserServerType = {\r\n\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    //isFetching: false,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: UserActionServerType): UserServerType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const setAuthUserData = (id: null | number, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA, payload: {\r\n        id, email, login, isAuth\r\n    } as const\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'TOGGLE-IS-FETCHING', isFetching} as const)\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    const response = await authAPI.me()\r\n\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true))\r\n            }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: any) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n                let action = stopSubmit('login', {_error: errorMessage});\r\n                dispatch(action)\r\n            }\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    const response = await authAPI.logout()\r\n\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n}","\r\nimport React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\n\r\n\r\ntype HeaderContainerComponentType = {\r\n    //setAuthUserData: (id: number, email: string, login: string) => void\r\n    //getAuthUserData: () => void\r\n}\r\n\r\n class HeaderContainerComponent extends React.Component<HeaderContainerComponentType, any> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n export const HeaderContainer = connect(mapStateToProps, { logout})(HeaderContainerComponent)","import React from \"react\";\r\nimport  {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../coomon/FormsControls\";\r\nimport {requiredField} from \"../../Utilits/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport s from \"../coomon/FormsControls.module.css\"\r\n\r\ntype  FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit,error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <h1>Login</h1>\r\n        <div>\r\n            <Field type=\"text\" placeholder={'Email'} name={'email'} component ={Input}\r\n            validate={[requiredField]}/>\r\n        </div>\r\n        <div>\r\n            <Field type=\"password\" placeholder={'Password'} name={'password'} component ={Input}\r\n                   validate={[requiredField]}/>\r\n        </div>\r\n        <div>\r\n            <Field type='checkbox' name={'rememberMe'} component ={Input}/> remember me\r\n        </div>\r\n\r\n        {error ? <div className={s.commonError}>{error}</div>: <br/>}\r\n\r\n        <div>\r\n            <button type={\"submit\"}>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    form: 'login' // unique name of using form\r\n}) (LoginForm)\r\n\r\n\r\n\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => any\r\n    isAuth: boolean\r\n}\r\n\r\n const Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login}) (Login)","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\ntype initializedType = {\r\n    initialized: boolean\r\n\r\n}\r\n\r\ntype initialisedActionType = ReturnType<typeof initializedSuccess>\r\n\r\nconst initialState: initializedType = {\r\n\r\n    initialized: false,\r\n\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: initialisedActionType): initializedType => {\r\n\r\n    switch (action.type) {\r\n        case \"INITIALIZED-SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: 'INITIALIZED-SUCCESS',} as const)\r\n\r\n\r\nexport const initializeAppTC = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n        }\r\n    )\r\n\r\n}\r\n\r\n","import React from 'react';\nimport './App.css';\nimport {Nav} from \"./components/Nav/Nav\";\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport {Music} from \"./components/Music/Music\";\nimport {Settings} from \"./components/Settings/Settings\";\nimport {DialogsContainer} from \"./components/Dialogs/DialogsContainer\";\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\nimport {ProfileContainer} from \"./components/Profile/ProfileContainer\";\nimport {AppStateType} from \"./Redux/redux-store\";\nimport {HeaderContainer} from \"./components/Header/headerContainer\";\nimport Login from \"./components/login/Login\";\nimport {connect} from \"react-redux\";\nimport {initializeAppTC} from \"./Redux/app-reducer\";\nimport {Preloader} from \"./components/coomon/preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {withRouter} from \"react-router\";\n\n\ntype AppPropsType = {\n    //store: AppStateType //StoreType\n    initializeAppTC: () => void\n    initialized: boolean\n}\n\n\nclass App extends React.Component<AppPropsType, any> {\n\n    componentDidMount() {\n\n        this.props.initializeAppTC()\n    }\n\n    render() {\n\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n\n                <div className=\"App\">\n                    <HeaderContainer/>\n                    <Nav/>\n\n                    <div className={'content'}>\n\n                        <Route /*exact*/ path={'/profile/:userId?'}\n                                         render={() =>\n                                             <ProfileContainer\n                                                 //store={props.store}\n                                                 //postsData={state.profilePage.postsData}\n                                                 //message={state.profilePage.newPostDataMessage}\n                                                 //dispatch={props.store.dispatch.bind(props.store)}\n                                                 //addPost={props.store.addPost.bind(props.store)}\n                                                 //updateInputText={props.store.updateInputText.bind(props.store)}\n                                             />\n                                         }\n                        />\n                        <Route path={'/dialogs'} render={() =>\n                            <DialogsContainer\n                                // store={props.store}\n                            />\n\n                            //     <Dialogs dialogsData={state.dialogsPage.dialogsData}\n                            //                                                 messagesData={state.dialogsPage.messagesData}\n                            //                                                 newMessageBody={state.dialogsPage.newMessageBody}\n                            //                                                 dispatch={props.store.dispatch.bind(props.store)}\n                            // />\n                        }\n                        />\n                        <Route path={'/users'} render={() => <UsersContainer/>}/>\n                        <Route path={'/music'} render={() => <Music/>}/>\n                        <Route path={'/settings'} render={() => <Settings/>}/>\n                        <Route path={'/login'} render={() => <Login/>}/>\n\n                    </div>\n                    {/*<Footer/>*/}\n                </div>\n\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType) => ({\n    initialized: state.app.initialized\n})\n\nexport default  compose<React.ComponentType>(\n    withRouter,\n    connect(mapStateToProps, {initializeAppTC}))(App)\n\n","import {ActionsTypes, sidebarType} from \"./store\";\r\n\r\nconst initialState: sidebarType = {}\r\n\r\nexport  const sidebarReducer = (state: sidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}","import {applyMiddleware, combineReducers, createStore,} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {dialogsReducer} from \"./dialogsReducer\";\r\nimport {sidebarReducer} from \"./sidebarReducer\";\r\nimport {StoreType} from \"./store\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {Provider} from \"react-redux\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleWare from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers(\r\n    {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        sidebar: sidebarReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReducer,\r\n        app: appReducer,\r\n    }\r\n)\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nexport let store: AppStateType | any = createStore(rootReducer, applyMiddleware(thunkMiddleWare))\r\n","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\nimport {Provider} from \"react-redux\";  // plugin redux to the App\nimport {store} from \"./Redux/redux-store\";\nimport {BrowserRouter} from \"react-router-dom\";\n\n\n//export const rerenderTree = () => {\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <BrowserRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n                </BrowserRouter>\n        </React.StrictMode>\n        ,\n        document.getElementById('root')\n    )\n//}\n\n//rerenderTree();\n\n//store.subscribe(rerenderTree);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"dialogs_dialogs__2uGXI\",\"dialogsItems\":\"dialogs_dialogsItems__3lLCa\",\"dialog\":\"dialogs_dialog__OSYVN\",\"active\":\"dialogs_active__rsQuI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1xV1n\",\"error\":\"FormsControls_error__DV7GC\",\"commonError\":\"FormsControls_commonError__S4dHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3bJ-Z\",\"active\":\"Nav_active__2ln6E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Oefr\",\"AppLogo\":\"Header_AppLogo__dac4I\",\"AppLogo-spin\":\"Header_AppLogo-spin__2fvJs\",\"loginBlock\":\"Header_loginBlock__3VCUK\"};"],"sourceRoot":""}