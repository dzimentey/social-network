{"version":3,"sources":["assets/images/homer-warrior.jpg","hoc/withAuthRedirect.tsx","Redux/dialogsReducer.ts","components/Users/Users.module.css","api/api.ts","reportWebVitals.ts","components/Nav/Nav.tsx","components/Music/Music.tsx","components/Settings/Settings.tsx","Redux/users-reducer.ts","components/coomon/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","Redux/users-selectors.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","logo.png","Redux/auth-reducer.ts","components/Header/headerContainer.tsx","components/login/Login.tsx","Redux/app-reducer.ts","App.tsx","hoc/withSuspense.tsx","Redux/sidebarReducer.ts","Redux/redux-store.ts","index.tsx","components/coomon/FormsControls.module.css","components/Nav/Nav.module.css","components/coomon/FormsControls.tsx","assets/images/preloader.gif","components/coomon/preloader/Preloader.tsx","components/Header/Header.module.css","Utilits/validators/validators.ts","components/coomon/Paginator/Paginator.module.css","Redux/profileReducer.ts"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","sendMessageAC","newMessageBody","type","initState","dialogsData","id","name","messagesData","message","dialogsReducer","action","messageText","module","exports","baseUrl","instance","axios","create","withCredentials","baseURL","headers","unFollowUser","delete","then","response","data","followUser","post","usersAPI","getUsers","currentPage","pageSize","get","getUserData","userId","profileAPI","getProfile","authAPI","me","login","email","password","rememberMe","logout","getStatus","updateStatus","status","put","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Nav","className","c","nav","activeClassName","active","Music","Settings","initialState","users","totalUsersCount","isFetching","followingProgress","followSuccess","unfollowSuccess","setUsers","setTotalUsersCount","toggleIsFetching","toggleFollowingProcess","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","disabled","onClick","filter","p","map","e","onPageChanged","s","selectedPage","User","user","src","photos","small","userPhoto","followed","some","unfollow","follow","Users","u","getUsersPage","createSelector","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingProgress","UsersContainerClass","pageNumber","setCurrentPage","Preloader","UsersContainer","compose","dispatch","a","resultCode","items","totalCount","Header","header","AppLogo","alt","loginBlock","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","HeaderContainerComponent","HeaderContainer","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","requiredField","commonError","errorMessage","messages","length","stopSubmit","_error","formData","console","log","initialized","DialogsContainer","lazy","ProfileContainer","App","initializeAppTC","path","render","fallback","Suspense","withRouter","app","promise","Promise","all","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleWare","__store__","ReactDOM","StrictMode","document","getElementById","Textarea","gotError","meta","touched","formControl","input","style","position","margin","preloader","width","height","value","maxLengthCreator","maxLength","addPostAC","text","postText","postsData","likesAmount","profile","newPost","newPostDataMessage","postId","getUserProfile","setStatus"],"mappings":"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","file":"static/js/main.ed279abd.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/homer-warrior.0d5993ef.jpg\";","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../Redux/redux-store\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state:AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport const withAuthRedirect = (Component: any) => {\r\n    class RedirectComponent extends React.Component<any, any> {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to={'/login'}/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n   let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}","import {ActionsTypes, dialogsPageType} from \"./store\";\r\n\r\n// export type UpdateMessageBodyType = {\r\n//     type: 'UPDATE-MESSAGE-BODY'\r\n//     newText: string\r\n// }\r\nexport type SendMessageType = {\r\n    type: 'SEND-MESSAGE'\r\n    newMessageBody: string\r\n}\r\n\r\nexport const sendMessageAC = (newMessageBody: string): SendMessageType => { //actionCreator\r\n    return {\r\n        type: 'SEND-MESSAGE',\r\n        newMessageBody: newMessageBody,\r\n    }\r\n}\r\n// export const UpdateMessageBodyAC = (newText: string): UpdateMessageBodyType => {  //actionCreator\r\n//     return {\r\n//         type: 'UPDATE-MESSAGE-BODY',\r\n//         newText: newText,\r\n//     }\r\n// }\r\n\r\nconst initState: dialogsPageType = {\r\n    dialogsData: [\r\n        {id: '1', name: 'Billy'},\r\n        {id: '2', name: 'Frankie'},\r\n        {id: '3', name: 'Mario'},\r\n        {id: '4', name: 'Itzka'},\r\n        {id: '5', name: 'Adam'},\r\n        {id: '6', name: 'Hue'},\r\n    ],\r\n    messagesData: [\r\n        {id: '1', message: 'Hello guys'},\r\n        {id: '2', message: 'Hello you guys'},\r\n        {id: '3', message: 'How is your going'},\r\n        {id: '4', message: 'What have you seen'},\r\n        {id: '5', message: 'Hello guys'},\r\n        {id: '6', message: 'Hello guys'},\r\n    ],\r\n   // newMessageBody: '',\r\n}\r\n\r\nexport const dialogsReducer = (state: dialogsPageType = initState, action: ActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n\r\n        // case 'UPDATE-MESSAGE-BODY':\r\n        //\r\n        //     return {...state, newMessageBody: action.newText}\r\n\r\n        case 'SEND-MESSAGE':\r\n            let messageText = action.newMessageBody\r\n\r\n            return {\r\n                ...state,\r\n                messagesData: [...state.messagesData, {id: '7', message: messageText}],\r\n\r\n            }\r\n    }\r\n\r\n    return state\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__J3LEV\",\"selectedPage\":\"Users_selectedPage__SWZ7W\"};","import axios from \"axios\";\r\n\r\nconst baseUrl: string = `https://social-network.samuraijs.com/api/1.0/`\r\n\r\nconst instance = axios.create({\r\n        withCredentials: true,\r\n        baseURL: baseUrl,\r\n        headers: {\r\n            \"API-KEY\": \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        },\r\n    }\r\n)\r\n\r\nexport const getUsers = (currentPage: number = 1, pageSize: number = 10) => {\r\n\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nconst getUserData = (userId: number) => {\r\n    return instance.get(`profile/${userId}`,)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const unFollowUser = (id: string | number) => {\r\n    return instance.delete(baseUrl + `follow/${id}`,)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\nexport const followUser = (id: string | number) => {\r\n    return instance.post(baseUrl + `follow/${id}`, {},)\r\n        .then(response => {\r\n            return response.data\r\n        })\r\n}\r\n\r\n\r\nexport const usersAPI = {\r\n\r\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\r\n\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    getUserData(userId: number) {\r\n        return profileAPI.getProfile(userId)\r\n    },\r\n\r\n    unFollowUser(id: string | number) {\r\n        return instance.delete(baseUrl + `follow/${id}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    followUser(id: string | number) {\r\n        return instance.post(baseUrl + `follow/${id}`, {},)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n};\r\n\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n    },\r\n    login(email: string, password : string, rememberMe: boolean = false) {\r\n        return instance.post(`auth/login`, {email , password, rememberMe})\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    },\r\n\r\n};\r\n\r\nexport const profileAPI = {\r\n\r\n    getProfile(userId: number) {\r\n        return instance.get(`profile/${userId}`,)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    getStatus(userId: number) {\r\n        return instance.get(`profile/status/${userId}`)\r\n    },\r\n    updateStatus(status: string) {\r\n        return instance.put(`profile/status`, {status: status})\r\n    },\r\n};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport c from './Nav.module.css'\r\n\r\n\r\nexport const Nav = () => {\r\n    return(\r\n        <nav className={c.nav}>\r\n            <div>\r\n                <NavLink to='/profile' activeClassName={c.active}>Profile</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/dialogs' activeClassName={c.active}>Messages</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/users' activeClassName={c.active}>Users</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/music' activeClassName={c.active}>Music</NavLink>\r\n            </div>\r\n            <div>\r\n                <NavLink to='/settings' activeClassName={c.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Music =()=>{\r\n    return(\r\n        <div>\r\n            Music\r\n        </div>\r\n    )\r\n}","import React from \"react\";\r\n\r\nexport const Settings =()=> {\r\n    return (\r\n        <div>\r\n            Settings\r\n        </div>\r\n    )\r\n}","import {followUser, unFollowUser, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\nexport type UserType = {\r\n    id: string\r\n    photoUrl: string\r\n    followed: boolean\r\n    name: string\r\n    status: string\r\n    location: { city: string, country: string }\r\n    photos: { small: string, large: string }\r\n}\r\n\r\nexport type UsersStateType = {\r\n    users: Array<UserType>\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: [] | boolean | any\r\n}\r\n\r\ntype FollowActionType = {\r\n    type: 'FOLLOW'\r\n    userId: string\r\n}\r\n\r\ntype UnfollowActionType = {\r\n    type: 'UNFOLLOW'\r\n    userId: string\r\n}\r\n\r\nexport type UserActionsType =\r\n    FollowActionType\r\n    | UnfollowActionType\r\n    | ReturnType<typeof setUsers>\r\n    | ReturnType<typeof setCurrentPage>\r\n    | ReturnType<typeof setTotalUsersCount>\r\n    | ReturnType<typeof toggleIsFetching>\r\n    | ReturnType<typeof toggleFollowingProcess>\r\n\r\nconst initialState: UsersStateType = {\r\n\r\n    users: [\r\n        // {\r\n        //     id: '1',\r\n        //     photoUrl: \"https://static.planetminecraft.com/files/resource_media/screenshot/1218/mp1335340272752_2126903_thumb.jpg\",\r\n        //     followed: false,\r\n        //     name: 'Maverick',\r\n        //     status: 'Huge wave',\r\n        //     location: {city: 'Half Moon Bay', country: 'US'}\r\n        // },\r\n        // {\r\n        //     id: '2',\r\n        //     photoUrl: 'https://ru.warface.com/forums/image.php?u=1248304&dateline=1399797419',\r\n        //     followed: true,\r\n        //     name: 'Big Rock',\r\n        //     status: 'Boss',\r\n        //     location: {city: 'Rock City', country: 'Mexico'}\r\n        // },\r\n        // {\r\n        //     id: '3',\r\n        //     photoUrl: 'https://gif-avatars.com/img/100x100/homer-stoned.gif',\r\n        //     followed: false,\r\n        //     name: 'Hermes',\r\n        //     status: 'Supervisor',\r\n        //     location: {city: 'Boca Chica', country: 'Dominicana'}\r\n        // }\r\n    ],\r\n    pageSize: 100,\r\n    totalUsersCount: 1,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingProgress: []\r\n}\r\n\r\nexport const usersReducer = (state = initialState, action: UserActionsType): UsersStateType => {\r\n\r\n    switch (action.type) {\r\n        case 'FOLLOW':\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: true}\r\n                        }\r\n                        return u\r\n                    }\r\n                )\r\n            }\r\n\r\n        case \"UNFOLLOW\":\r\n            return {\r\n                ...state, users: state.users.map(u => {\r\n                        if (u.id === action.userId) {\r\n                            return {...u, followed: false}\r\n                        }\r\n                        return u\r\n                    }\r\n                )\r\n            }\r\n\r\n        case \"SET-USERS\": {\r\n            return {...state, users: [...action.users,]} //...state.users\r\n        }\r\n\r\n        case \"SET-CURRENT-PAGE\": {\r\n            return {...state, currentPage: action.currentPage}\r\n        }\r\n\r\n        case \"SET-TOTAL-USERS-COUNT\": {\r\n            return {...state, totalUsersCount: action.totalUsersCount}\r\n        }\r\n\r\n        case \"TOGGLE-IS-FETCHING\": {\r\n            return {...state, isFetching: action.isFetching}\r\n        }\r\n        case \"TOGGLE-IS-FOLLOWING-PROCESS\": {\r\n            return {\r\n                ...state,\r\n                followingProgress: action.isFetching\r\n                    ? [...state.followingProgress, action.userId]\r\n                    : state.followingProgress.filter((id: any) => id !== action.userId)\r\n            }\r\n        }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const followSuccess = (userId: string): FollowActionType => ({type: 'FOLLOW', userId})\r\nexport const unfollowSuccess = (userId: string): UnfollowActionType => ({type: 'UNFOLLOW', userId})\r\nexport const setUsers = (users: UserType[]) => ({type: 'SET-USERS', users} as const)\r\nexport const setCurrentPage = (currentPage: number) => ({type: 'SET-CURRENT-PAGE', currentPage} as const)\r\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\r\n    type: 'SET-TOTAL-USERS-COUNT',\r\n    totalUsersCount\r\n} as const)\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'TOGGLE-IS-FETCHING', isFetching} as const)\r\nexport const toggleFollowingProcess = (isFetching: boolean, userId: string) => ({\r\n    type: 'TOGGLE-IS-FOLLOWING-PROCESS',\r\n    isFetching,\r\n    userId\r\n} as const)\r\n\r\n\r\nexport const getUsers = (currentPage: number, pageSize: number) => {\r\n\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleIsFetching(true))\r\n        // if (this.props.users.length === 0)\r\n\r\n        // axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await usersAPI.getUsers(currentPage, pageSize);\r\n\r\n        dispatch(toggleIsFetching(false));\r\n        dispatch(setUsers(data.items));\r\n        dispatch(setTotalUsersCount(data.totalCount));\r\n    }\r\n}\r\n\r\nexport const follow = (userId: string) => {\r\n\r\n    return async (dispatch: Dispatch) => {\r\n        dispatch(toggleFollowingProcess(true, userId))\r\n        // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await followUser(userId)\r\n\r\n        if (data.resultCode === 0) {\r\n            dispatch(followSuccess(userId))\r\n        }\r\n        dispatch(toggleFollowingProcess(false, userId))\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId: string) => {\r\n\r\n    return async (dispatch: any) => {\r\n        dispatch(toggleFollowingProcess(true, userId))\r\n        // axios.post(`https://social-network.samuraijs.com/api/1.0/follow/${u.id}`, {}, {\r\n        //     withCredentials: true,\r\n        //     headers: {\r\n        //         \"API-KEY\" : \"49c9fc27-b65d-436b-ad55-f34f2b452a65\"\r\n        //     }\r\n        // })\r\n        const data = await unFollowUser(userId)\r\n\r\n                if (data.resultCode === 0) {\r\n                    dispatch(unfollowSuccess(userId))\r\n                }\r\n                dispatch(toggleFollowingProcess(false, userId))\r\n    }\r\n}","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\n\r\ntype PaginatorPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    onPageChanged: (pageNumber: number) => void\r\n    portionSize: number\r\n}\r\n\r\nexport const Paginator = (props: PaginatorPropsType) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\r\n\r\n    let pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    const portionCount = Math.ceil(pagesCount / props.portionSize)\r\n    const [portionNumber, setPortionNumber] = useState(1)\r\n    const leftPortionPageNumber = (portionNumber -1) * props.portionSize + 1\r\n    const rightPortionPageNumber = portionNumber * props.portionSize\r\n\r\n\r\n    return <div>\r\n        { <button disabled={portionNumber <= 1} onClick={()=>{setPortionNumber(portionNumber -1)}}>PREV</button>}\r\n\r\n        {pages.filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n\r\n            .map(p => <span onClick={(e) => {\r\n            props.onPageChanged(p)\r\n        }} className={props.currentPage === p ? s.selectedPage : s.pages}>{p}</span>)}\r\n\r\n\r\n        {portionCount > portionNumber && <button onClick={()=>{setPortionNumber(portionNumber +1)}}>NEXT</button>}\r\n    </div>\r\n\r\n}\r\n","import React from \"react\";\r\nimport s from \"./Users.module.css\";\r\nimport {UserType} from \"../../Redux/users-reducer\";\r\nimport userPhoto from \"../../assets/images/homer-warrior.jpg\";\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\ntype UserPropsType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    followingProgress: any\r\n    user: UserType\r\n}\r\n\r\nexport const User = ({user, ...props}: UserPropsType) => {\r\n\r\n    return <div>\r\n                <span>\r\n                    <div>\r\n                        <NavLink to={'profile/' + user.id}>\r\n                            <img src={user.photos.small ? user.photos.small : userPhoto} className={s.userPhoto}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {user.followed\r\n                            ? <button\r\n                                disabled={props.followingProgress.some((id: any) => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.unfollow(user.id)\r\n                                }}>\r\n                                Unfollow\r\n                            </button>\r\n\r\n                            : <button\r\n                                disabled={props.followingProgress.some((id: any) => id === user.id)}\r\n                                onClick={() => {\r\n                                    props.follow(user.id)\r\n                                }}>\r\n                                Follow\r\n                            </button>}\r\n\r\n                    </div>\r\n                </span>\r\n        <span>\r\n                    <span>\r\n                        <div>{user.name}</div>\r\n                        <div>{user.status}</div>\r\n                    </span>\r\n                    <span>\r\n                        <div>{\"user.location.country\"}</div>\r\n                        <div>{\"user.location.city\"}</div>\r\n                    </span>\r\n                </span>\r\n    </div>\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport {UserType} from \"../../Redux/users-reducer\";\r\nimport {Paginator} from \"../coomon/Paginator/Paginator\";\r\nimport {User} from \"./User\";\r\n\r\ntype UsersPropsType = {\r\n    totalUsersCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    users: UserType[]\r\n    onPageChanged: (pageNumber: number) => void\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    //toggleFollowingProcess: (isFetching: boolean, id: string) => void\r\n    followingProgress: any\r\n}\r\n\r\nexport const Users = (props: UsersPropsType) => {\r\n\r\n    let portionSize = 20;\r\n\r\n    return <div>\r\n\r\n        <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize} currentPage={props.currentPage}\r\n                   onPageChanged={props.onPageChanged} portionSize={portionSize}/>\r\n\r\n        {props.users.map((u: UserType) => <User follow={props.follow}\r\n                                                   unfollow={props.unfollow}\r\n                                                   followingProgress={props.followingProgress}\r\n                                                   user={u} key={u.id} />\r\n        )}\r\n\r\n    </div>;\r\n}\r\n","import {AppStateType} from \"./redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\n const getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsersPage = createSelector(getUsersSelector, users => users);\r\n\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state: AppStateType) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingProgress\r\n}\r\n\r\n","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow,\r\n    getUsers,\r\n    setCurrentPage,\r\n    setTotalUsersCount,\r\n    setUsers,\r\n    toggleFollowingProcess,\r\n    toggleIsFetching,\r\n    unfollow,\r\n    UserType\r\n} from \"../../Redux/users-reducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {Users} from \"./Users\";\r\nimport {Preloader} from \"../coomon/preloader/Preloader\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getFollowingProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsersPage\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\nexport type mapStateToPropsReturnType = {\r\n    users: UserType[]\r\n    pageSize: number\r\n    totalUsersCount: number\r\n    currentPage: number\r\n    isFetching: boolean\r\n    followingProgress: boolean\r\n}\r\n\r\ntype mapDispatchReturnType = {\r\n    follow: (userId: string) => void\r\n    unfollow: (userId: string) => void\r\n    setUsers: (users: UserType[] | any) => void\r\n    setCurrentPage: (pageNumber: number) => void\r\n    setTotalUsersCount: (totalCount: number) => void\r\n    toggleIsFetching: (isFetching: boolean) => void\r\n    toggleFollowingProcess: (isFetching: boolean, id: string) => void\r\n    getUsers: (currentPage: number, pageSize: number) => void\r\n\r\n}\r\n\r\nexport type UsersPropsType = mapStateToPropsReturnType & mapDispatchReturnType\r\n\r\nclass UsersContainerClass extends React.Component<UsersPropsType> {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\r\n\r\n    }\r\n\r\n    onPageChanged = (pageNumber: number) => {\r\n\r\n        this.props.getUsers(pageNumber, this.props.pageSize)\r\n\r\n        this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n\r\n    }\r\n\r\n    render() {\r\n\r\n        return <>\r\n            {this.props.isFetching ?\r\n                <Preloader/>\r\n                : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage} users={this.props.users}\r\n                   onPageChanged={this.onPageChanged} follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   //toggleFollowingProcess={this.props.toggleFollowingProcess}\r\n                   followingProgress={this.props.followingProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStateType): mapStateToPropsReturnType => {\r\n    return {\r\n        users: getUsersPage(state),\r\n        pageSize: getPageSize(state), //use selector instead following-- state.usersPage.pageSize\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingProgress: getFollowingProgress(state),\r\n    }\r\n}\r\n\r\nlet withRedirect = withAuthRedirect(UsersContainerClass);\r\n\r\n// export const UsersContainer = connect(mapStateToProps, {\r\n//                 // when object's  key === property the shorthand is available\r\n//\r\n//\r\n//     follow,                   //equal to   follow: follow,\r\n//     unfollow,                 //equal to   unfollow: unfollow,\r\n//     setUsers,                 //equal to   setUsers: setUsers,\r\n//     setCurrentPage,           //equal to   setCurrentPage: setCurrentPage,\r\n//     setTotalUsersCount,       //equal to   setTotalUsersCount: setTotalUsersCount,\r\n//     toggleIsFetching,         //equal to   toggleIsFetching: toggleIsFetching,\r\n//     toggleFollowingProcess,\r\n//     getUsers,\r\n//\r\n// })(withRedirect)\r\n\r\nexport const UsersContainer = compose<React.ComponentType>(\r\n    connect(mapStateToProps, { // 1-st function wrapper\r\n            follow,\r\n            unfollow,\r\n            setUsers,\r\n            setCurrentPage,\r\n            setTotalUsersCount,\r\n            toggleIsFetching,\r\n            toggleFollowingProcess,\r\n            getUsers,\r\n        }\r\n    ))   // 2-nd function wrapper --> redirect unauthorised user to login page\r\n(UsersContainerClass)     // Component\r\n\r\n","import logo from \"../../logo.png\";\r\nimport React from \"react\";\r\nimport c from './Header.module.css'\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\nexport const Header = (props: any) => {\r\n\r\n    return (\r\n        <header className={c.header}>\r\n            <img src={logo} className={c.AppLogo} alt=\"logo\"/>\r\n            <div className={c.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login}  <button onClick={props.logout}>Log out</button></div>\r\n                    : <NavLink to={'/login'}>Login</NavLink> }\r\n            </div>\r\n        </header>\r\n    )\r\n}","export default \"data:image/png;base64,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\"","import {authAPI} from \"../api/api\";\r\nimport {stopSubmit} from \"redux-form\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nconst SET_USER_DATA = 'social-network/auth/SET-USER-DATA'\r\n\r\ntype UserServerType = {\r\n    id: null | number\r\n    email: null | string\r\n    login: null | string\r\n    isAuth: boolean\r\n}\r\n\r\ntype UserActionServerType = ReturnType<typeof setAuthUserData>\r\n\r\nconst initialState: UserServerType = {\r\n\r\n    id: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false\r\n    //isFetching: false,\r\n}\r\n\r\nexport const authReducer = (state = initialState, action: UserActionServerType): UserServerType => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const setAuthUserData = (id: null | number, email: string | null, login: string | null, isAuth: boolean) => ({\r\n    type: SET_USER_DATA, payload: {\r\n        id, email, login, isAuth\r\n    } as const\r\n})\r\n\r\nexport const toggleIsFetching = (isFetching: boolean) => ({type: 'TOGGLE-IS-FETCHING', isFetching} as const)\r\n\r\n\r\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\r\n    const response = await authAPI.me()\r\n\r\n            if (response.data.resultCode === 0) {\r\n                let {id, email, login} = response.data.data;\r\n                dispatch(setAuthUserData(id, email, login, true))\r\n            }\r\n}\r\n\r\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: any) => {\r\n    const response = await authAPI.login(email, password, rememberMe)\r\n\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let errorMessage = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n                let action = stopSubmit('login', {_error: errorMessage});\r\n                dispatch(action)\r\n            }\r\n\r\n}\r\n\r\nexport const logout = () => async (dispatch: any) => {\r\n    const response = await authAPI.logout()\r\n\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n}","\r\nimport React from \"react\";\r\nimport {Header} from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\n\r\n\r\n\r\ntype HeaderContainerComponentType = {\r\n    //setAuthUserData: (id: number, email: string, login: string) => void\r\n    //getAuthUserData: () => void\r\n}\r\n\r\n class HeaderContainerComponent extends React.Component<HeaderContainerComponentType, any> {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>;\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n export const HeaderContainer = connect(mapStateToProps, { logout})(HeaderContainerComponent)","import React from \"react\";\r\nimport  {Field, InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../coomon/FormsControls\";\r\nimport {requiredField} from \"../../Utilits/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport s from \"../coomon/FormsControls.module.css\"\r\n\r\ntype  FormDataType = {\r\n    email: string\r\n    password: string\r\n    rememberMe: boolean\r\n}\r\n\r\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = ({handleSubmit,error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <h1>Login</h1>\r\n        <div>\r\n            <Field type=\"text\" placeholder={'Email'} name={'email'} component ={Input}\r\n            validate={[requiredField]}/>\r\n        </div>\r\n        <div>\r\n            <Field type=\"password\" placeholder={'Password'} name={'password'} component ={Input}\r\n                   validate={[requiredField]}/>\r\n        </div>\r\n        <div>\r\n            <Field type='checkbox' name={'rememberMe'} component ={Input}/> remember me\r\n        </div>\r\n\r\n        {error ? <div className={s.commonError}>{error}</div>: <br/>}\r\n\r\n        <div>\r\n            <button type={\"submit\"}>Login</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\n\r\nconst LoginReduxForm = reduxForm<FormDataType>({\r\n    form: 'login' // unique name of using form\r\n}) (LoginForm)\r\n\r\n\r\n\r\ntype LoginPropsType = {\r\n    login: (email: string, password: string, rememberMe: boolean) => any\r\n    isAuth: boolean\r\n}\r\n\r\n const Login = (props: LoginPropsType) => {\r\n    const onSubmit = (formData: FormDataType) => {\r\n        console.log(formData);\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect(mapStateToProps, {login}) (Login)","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\ntype initializedType = {\r\n    initialized: boolean\r\n\r\n}\r\n\r\ntype initialisedActionType = ReturnType<typeof initializedSuccess>\r\n\r\nconst initialState: initializedType = {\r\n\r\n    initialized: false,\r\n\r\n}\r\n\r\nexport const appReducer = (state = initialState, action: initialisedActionType): initializedType => {\r\n\r\n    switch (action.type) {\r\n        case \"INITIALIZED-SUCCESS\":\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\n\r\nexport const initializedSuccess = () => ({type: 'INITIALIZED-SUCCESS',} as const)\r\n\r\n\r\nexport const initializeAppTC = () => (dispatch: any) => {\r\n    let promise = dispatch(getAuthUserData());\r\n    Promise.all([promise]).then(() => {\r\n        dispatch(initializedSuccess());\r\n        }\r\n    )\r\n\r\n}\r\n\r\n","import React, {Suspense} from 'react';\r\nimport './App.css';\r\nimport {Nav} from \"./components/Nav/Nav\";\r\nimport {Route} from \"react-router-dom\";\r\nimport {Music} from \"./components/Music/Music\";\r\nimport {Settings} from \"./components/Settings/Settings\";\r\nimport {UsersContainer} from \"./components/Users/UsersContainer\";\r\nimport {AppStateType} from \"./Redux/redux-store\";\r\nimport {HeaderContainer} from \"./components/Header/headerContainer\";\r\nimport Login from \"./components/login/Login\";\r\nimport {connect} from \"react-redux\";\r\nimport {initializeAppTC} from \"./Redux/app-reducer\";\r\nimport {Preloader} from \"./components/coomon/preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {withRouter} from \"react-router\";\r\nimport {withSuspense} from \"./hoc/withSuspense\";\r\n//import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\r\n//import ProfileContainer from \"./components/Profile/ProfileContainer\";\r\n\r\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\"))\r\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\"))\r\n\r\ntype AppPropsType = {\r\n    //store: AppStateType //StoreType\r\n    initializeAppTC: () => void\r\n    initialized: boolean\r\n}\r\n\r\n\r\nclass App extends React.Component<AppPropsType> {\r\n\r\n    componentDidMount() {\r\n\r\n        this.props.initializeAppTC()\r\n    }\r\n\r\n    render() {\r\n\r\n        if (!this.props.initialized) {\r\n            return <Preloader/>\r\n        }\r\n\r\n        return (\r\n\r\n            <div className=\"App\">\r\n                <HeaderContainer/>\r\n                <Nav/>\r\n\r\n                <div className={'content'}>\r\n\r\n                    <Route path={'/profile/:userId?'} render={() =>\r\n                        <Suspense fallback={'Loading...'}>\r\n                            <ProfileContainer  // lazy loaded component, shows 'Loading' while component is loading\r\n                                //store={props.store}\r\n                                //postsData={state.profilePage.postsData}\r\n                                //message={state.profilePage.newPostDataMessage}\r\n                                //dispatch={props.store.dispatch.bind(props.store)}\r\n                                //addPost={props.store.addPost.bind(props.store)}\r\n                                //updateInputText={props.store.updateInputText.bind(props.store)}\r\n                            />\r\n                        </Suspense>\r\n                    }\r\n                    />\r\n                    <Route path={'/dialogs'} render={ withSuspense(DialogsContainer)\r\n                        // lazy loaded component, shows 'Loading' while component is loading\r\n                        //     <Dialogs dialogsData={state.dialogsPage.dialogsData}\r\n                        //                                                 messagesData={state.dialogsPage.messagesData}\r\n                        //                                                 newMessageBody={state.dialogsPage.newMessageBody}\r\n                        //                                                 dispatch={props.store.dispatch.bind(props.store)}\r\n                        // />\r\n                    }\r\n                    />\r\n                    <Route path={'/users'} render={() => <UsersContainer/>}/>\r\n                    <Route path={'/music'} render={() => <Music/>}/>\r\n                    <Route path={'/settings'} render={() => <Settings/>}/>\r\n                    <Route path={'/login'} render={() => <Login/>}/>\r\n\r\n                </div>\r\n                {/*<Footer/>*/}\r\n            </div>\r\n\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state: AppStateType) => ({\r\n    initialized: state.app.initialized\r\n})\r\n\r\nexport default compose<React.ComponentType>(\r\n    withRouter,\r\n    connect(mapStateToProps, {initializeAppTC}))(App)\r\n\r\n","import React from \"react\";\r\n\r\nexport const withSuspense = (Component: any) => {\r\n\r\n    return (props: any) => <React.Suspense fallback={'Loading...'}> <Component {...props}/> </React.Suspense>\r\n\r\n}","import {ActionsTypes, sidebarType} from \"./store\";\r\n\r\nconst initialState: sidebarType = {}\r\n\r\nexport  const sidebarReducer = (state: sidebarType = initialState, action: ActionsTypes) => {\r\n\r\n    return state\r\n}","import {applyMiddleware, combineReducers, compose, createStore, Store,} from \"redux\";\r\nimport {profileReducer} from \"./profileReducer\";\r\nimport {dialogsReducer} from \"./dialogsReducer\";\r\nimport {sidebarReducer} from \"./sidebarReducer\";\r\nimport {usersReducer} from \"./users-reducer\";\r\nimport {authReducer} from \"./auth-reducer\";\r\nimport thunkMiddleWare from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\nimport {appReducer} from \"./app-reducer\";\r\n\r\nlet rootReducer = combineReducers(\r\n    {\r\n        profilePage: profileReducer,\r\n        dialogsPage: dialogsReducer,\r\n        sidebar: sidebarReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: formReducer,\r\n        app: appReducer,\r\n    }\r\n)\r\n\r\n// @ts-ignore\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nexport const store: Store<AppStateType> = createStore(rootReducer, composeEnhancers(applyMiddleware(thunkMiddleWare)));\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\n//export let store: Store<AppStateType>  = createStore(rootReducer, applyMiddleware(thunkMiddleWare))\r\n\r\n// @ts-ignore\r\nwindow.__store__ = store","import React from 'react';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport './index.css';\nimport {Provider} from \"react-redux\";  // plugin redux to the App\nimport {store} from \"./Redux/redux-store\";\nimport {HashRouter} from \"react-router-dom\";\n\n\n//export const rerenderTree = () => {\n\n    ReactDOM.render(\n        <React.StrictMode>\n            <HashRouter>\n            <Provider store={store}>\n                <App />\n            </Provider>\n                </HashRouter>\n        </React.StrictMode>\n        ,\n        document.getElementById('root')\n    )\n//}\n\n//rerenderTree();\n\n//store.subscribe(rerenderTree);\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1xV1n\",\"error\":\"FormsControls_error__DV7GC\",\"commonError\":\"FormsControls_commonError__S4dHJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__3bJ-Z\",\"active\":\"Nav_active__2ln6E\"};","import s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ( props: any)=> {\r\n\r\n    const gotError = props.meta.touched && props.meta.error\r\n\r\n    return (\r\n        <div className={s.formControl +' '+ (gotError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...props.input} {...props} />\r\n            </div>\r\n            {gotError ? <span>{props.meta.error}</span> : <br/> }\r\n        </div>\r\n    )\r\n}\r\n\r\n// {...props} means that textarea component gives all the props to a child component\r\n\r\nexport const Input = ( props: any)=> {\r\n\r\n    const gotError = props.meta.touched && props.meta.error\r\n\r\n    return (\r\n        <div className={s.formControl +' '+ (gotError ? s.error : '')}>\r\n            <div>\r\n                <input {...props.input} {...props} />\r\n            </div>\r\n            {gotError ? <span>{props.meta.error}</span> : <br/> }\r\n        </div>\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/preloader.a1a99674.gif\";","import preloader from \"../../../assets/images/preloader.gif\";\r\nimport React from \"react\";\r\ntype PreloaderPropsType = {\r\n\r\n}\r\n\r\nexport const Preloader = (props: PreloaderPropsType) => {\r\n    return  <div style={{position: 'absolute', margin: '30vh 40%'}}>\r\n        <img src={preloader} style={{width: '60px', height: '60px'}}/>\r\n    </div>\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1Oefr\",\"AppLogo\":\"Header_AppLogo__dac4I\",\"AppLogo-spin\":\"Header_AppLogo-spin__2fvJs\",\"loginBlock\":\"Header_loginBlock__3VCUK\"};","\r\nexport const requiredField = (value: string) => {\r\n    if(value) return undefined;\r\n\r\n    return 'Field is required';\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\r\n    if(value && value.length > maxLength) return `Max length should be fewer or equal ${maxLength} characters `;\r\n\r\n    return undefined ;\r\n}\r\n\r\n// export const maxLength30 = (value: string) => {\r\n//     if(value && value.length > 30) return 'Max length should be fewer or equal 30 characters ';\r\n//\r\n//     return undefined ;\r\n// }","// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Paginator_selectedPage__2txsQ\",\"pages\":\"Paginator_pages__uzG35\"};","import { postsDataType, profilePageType,} from \"./store\";\r\nimport {profileAPI, usersAPI} from \"../api/api\";\r\nimport {Dispatch} from \"redux\";\r\n\r\n\r\nexport type ProfileReducerActionsTypes = ReturnType<typeof addPostAC> |\r\n    ReturnType<typeof setUserProfile> | ReturnType<typeof setStatus> | ReturnType<typeof deletePost>\r\n\r\nexport const addPostAC = (text: string) => {  //actionCreator with auto type\r\n    return {\r\n        type: 'ADD-POST',\r\n        postText: text,\r\n    } as const\r\n}\r\n// export const updateInputTextAC = (inputText: string) => { //actionCreator with auto type\r\n//     return {\r\n//         type: 'UPDATE-INPUT-TEXT',\r\n//         inputText: inputText,\r\n//     } as const\r\n// }\r\n\r\n\r\nconst initialState: profilePageType = {\r\n\r\n    postsData: [\r\n        {id: '1', message: 'hi what\\'s new', likesAmount: '6'},\r\n        {id: '2', message: 'Hello i\\'m an alien from planet of ww1', likesAmount: '15'},\r\n        {id: '3', message: 'How is your going', likesAmount: '2'},\r\n        {id: '4', message: 'What have you seen', likesAmount: '1'},\r\n        {id: '5', message: 'Hello guys', likesAmount: '0'},\r\n        {id: '6', message: 'Hello guys', likesAmount: '3'},\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n}\r\n\r\nexport const profileReducer = (state: profilePageType = initialState, action: ProfileReducerActionsTypes) => {\r\n\r\n    switch (action.type) {\r\n\r\n        case 'ADD-POST':\r\n\r\n            const newPost: postsDataType = {\r\n                id: '7',\r\n                message: action.postText,\r\n                likesAmount: '0'\r\n            };\r\n\r\n            return {...state, postsData: [newPost, ...state.postsData,], newPostDataMessage: \"\"}\r\n\r\n        // case 'UPDATE-INPUT-TEXT':\r\n        //\r\n        //     return {...state, newPostDataMessage: action.inputText}\r\n\r\n        case \"SET-USER-PROFILE\":\r\n            return {...state, profile: action.profile}\r\n\r\n        case 'SET-STATUS':\r\n\r\n            return {...state, status: action.status}\r\n\r\n        case \"DELETE-POST\":\r\n            return {...state, postsData: state.postsData.filter(p => p.id !== action.postId)}\r\n\r\n        default:\r\n            return state;\r\n    }\r\n\r\n}\r\n\r\nexport const setUserProfile = (profile: any) => ({type: 'SET-USER-PROFILE', profile} as const)\r\n\r\nexport const getUserProfile = (userId: number) => async (dispatch: Dispatch) => {\r\n   const data = await usersAPI.getUserData(userId)\r\n\r\n        dispatch(setUserProfile(data))\r\n\r\n}\r\n\r\nexport const setStatus = (status: string) => ({type: 'SET-STATUS',  status} as const)\r\n\r\nexport const getStatus = (userId: number) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.getStatus(userId)\r\n\r\n        dispatch(setStatus(response.data))\r\n\r\n}\r\n\r\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\r\n    const response = await profileAPI.updateStatus(status)\r\n\r\n        if (response.data.resultCode === 0) {\r\n            dispatch(setStatus(status))\r\n        }\r\n}\r\n\r\nexport const deletePost = (postId: string) => ({type: 'DELETE-POST',  postId} as const);"],"sourceRoot":""}